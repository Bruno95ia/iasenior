<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#003361" />
  <meta name="description" content="Plataforma Digital de Relacionamento com o Cliente - Opus Tech. Alinhada com ISO 9001, ISO 27001 e ISO 27701." />
  <title>Portal do Cliente ‚Äî Opus Tech</title>
  
  <!-- PWA Manifest -->
  <link rel="manifest" href="manifest.json" />
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üéØ</text></svg>" />
  
  <!-- Chart.js para gr√°ficos -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  <!-- Three.js para visualiza√ß√£o 3D -->
  <script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.160.0/examples/js/controls/OrbitControls.js"></script>
  
  <style>
    :root {
      --bg-primary: #003361;
      --bg-secondary: #00BBDD;
      --bg-tertiary: #007760;
      --text-primary: #FFFFFF;
      --text-secondary: #F8F8FF;
      --text-muted: rgba(248,248,255,0.75);
      --text-muted-2: rgba(248,248,255,0.55);
      --card-bg: rgba(255,255,255,0.05);
      --card-hover: rgba(255,255,255,0.08);
      --border-color: rgba(255,255,255,0.1);
      --shadow: 0 4px 20px rgba(0,0,0,0.3);
      --shadow-hover: 0 8px 30px rgba(0,187,221,0.2);
      --radius: 16px;
      --radius-sm: 12px;
      --maxwidth: 1400px;
      --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html, body {
      height: 100%;
      background: linear-gradient(135deg, var(--bg-primary) 0%, #001f3d 100%);
      color: var(--text-primary);
      font-family: 'Inter', system-ui, -apple-system, "Segoe UI", Roboto, sans-serif;
      font-size: 15px;
      line-height: 1.6;
      -webkit-font-smoothing: antialiased;
    }

    .skip-link {
      position: absolute;
      left: -999px;
      top: auto;
      width: 1px;
      height: 1px;
      overflow: hidden;
    }
    .skip-link:focus {
      left: 20px;
      top: 20px;
      width: auto;
      height: auto;
      background: #fff;
      color: #000;
      padding: 12px 20px;
      border-radius: 8px;
      z-index: 10000;
      text-decoration: none;
      font-weight: 700;
    }

    .app {
      display: flex;
      min-height: 100vh;
      align-items: stretch;
      padding: 24px;
      justify-content: center;
    }

    .container {
      width: 100%;
      max-width: var(--maxwidth);
      display: grid;
      grid-template-columns: 340px 1fr;
      border-radius: var(--radius);
      padding: 0;
      gap: 24px;
      box-shadow: var(--shadow);
    }

    nav.sidebar {
      background: linear-gradient(180deg, var(--bg-secondary) 0%, #0099bb 100%);
      padding: 28px 24px;
      border-radius: var(--radius) 0 0 var(--radius);
      display: flex;
      flex-direction: column;
      height: calc(100vh - 48px);
      position: sticky;
      top: 24px;
      box-shadow: 4px 0 20px rgba(0,0,0,0.2);
    }

    .brand {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      gap: 16px;
      padding-bottom: 24px;
      border-bottom: 2px solid rgba(255,255,255,0.15);
      margin-bottom: 24px;
    }

    .brand small {
      display: block;
      color: rgba(255,255,255,0.9);
      font-size: 13px;
      font-weight: 500;
      margin-top: 12px;
      text-align: center;
      width: 100%;
    }

    .menu {
      display: flex;
      flex-direction: column;
      gap: 8px;
      flex: 1;
    }

    .menu button {
      background: transparent;
      border: 0;
      text-align: left;
      padding: 14px 16px;
      border-radius: var(--radius-sm);
      color: var(--text-primary);
      font-weight: 600;
      font-size: 15px;
      cursor: pointer;
      transition: var(--transition);
      display: flex;
      align-items: center;
      gap: 12px;
      position: relative;
    }

    .menu button::before {
      content: '';
      position: absolute;
      left: 0;
      top: 50%;
      transform: translateY(-50%);
      width: 4px;
      height: 0;
      background: var(--text-primary);
      border-radius: 0 4px 4px 0;
      transition: var(--transition);
    }

    .menu button:hover::before,
    .menu button.active::before {
      height: 60%;
    }

    .menu button:hover {
      background: rgba(255,255,255,0.15);
      transform: translateX(4px);
    }

    .menu button.active {
      background: rgba(255,255,255,0.2);
      font-weight: 700;
    }

    .sidebar-footer {
      margin-top: auto;
      font-size: 13px;
      color: rgba(255,255,255,0.9);
      padding-top: 24px;
      border-top: 2px solid rgba(255,255,255,0.15);
    }

    .sidebar-footer .btn {
      width: 100%;
      margin-top: 12px;
    }

    main {
      background: linear-gradient(180deg, rgba(255,255,255,0.03) 0%, transparent 100%);
      border-radius: 0 var(--radius) var(--radius) 0;
      padding: 32px;
      min-height: 100vh;
      overflow: auto;
      backdrop-filter: blur(10px);
    }

    header.top {
      display: flex;
      align-items: flex-start;
      justify-content: space-between;
      gap: 24px;
      margin-bottom: 32px;
      padding-bottom: 24px;
      border-bottom: 2px solid var(--border-color);
    }

    header .left {
      display: flex;
      flex-direction: column;
      gap: 8px;
      flex: 1;
    }

    header h2 {
      margin: 0;
      font-size: 28px;
      font-weight: 800;
      color: var(--text-primary);
      letter-spacing: -0.5px;
    }

    header .subtitle {
      color: var(--text-muted);
      font-size: 15px;
      font-weight: 400;
    }

    .header-right {
      display: flex;
      align-items: center;
      gap: 20px;
    }

    .search {
      display: flex;
      align-items: center;
      gap: 12px;
      position: relative;
    }

    .search::before {
      content: 'üîç';
      position: absolute;
      left: 14px;
      font-size: 16px;
      opacity: 0.6;
    }

    .search input {
      padding: 12px 14px 12px 42px;
      border-radius: var(--radius-sm);
      border: 2px solid var(--border-color);
      background: rgba(255,255,255,0.05);
      color: var(--text-primary);
      min-width: 280px;
      font-size: 14px;
      transition: var(--transition);
    }

    .search input:focus {
      outline: none;
      border-color: var(--bg-secondary);
      background: rgba(255,255,255,0.08);
      box-shadow: 0 0 0 4px rgba(0,187,221,0.1);
    }

    .notifications-btn {
      position: relative;
      background: var(--card-bg);
      border: 2px solid var(--border-color);
      border-radius: var(--radius-sm);
      padding: 10px;
      cursor: pointer;
      transition: var(--transition);
    }

    .notifications-btn:hover {
      background: var(--card-hover);
      border-color: var(--bg-secondary);
    }

    .notifications-badge {
      position: absolute;
      top: -4px;
      right: -4px;
      background: #FF4C4C;
      color: white;
      border-radius: 50%;
      width: 20px;
      height: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 11px;
      font-weight: 700;
    }

    .user {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 8px 16px;
      background: var(--card-bg);
      border-radius: var(--radius-sm);
      border: 2px solid var(--border-color);
    }

    .user-name {
      font-weight: 700;
      font-size: 14px;
      color: var(--text-primary);
    }

    .user-account {
      color: var(--text-muted);
      font-size: 12px;
    }

    .user img {
      width: 44px;
      height: 44px;
      border-radius: 50%;
      object-fit: cover;
      border: 2px solid var(--bg-secondary);
      box-shadow: 0 2px 8px rgba(0,0,0,0.2);
    }

    .dashboard {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
      margin-top: 24px;
    }

    .card {
      background: var(--card-bg);
      padding: 24px;
      border-radius: var(--radius-sm);
      border: 1px solid var(--border-color);
      transition: var(--transition);
      backdrop-filter: blur(10px);
    }

    .card:hover {
      background: var(--card-hover);
      transform: translateY(-4px);
      box-shadow: var(--shadow-hover);
      border-color: var(--bg-secondary);
    }

    .card h3 {
      margin: 0 0 16px 0;
      font-size: 14px;
      font-weight: 600;
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .metric {
      font-size: 36px;
      font-weight: 800;
      color: var(--text-primary);
      margin-bottom: 8px;
      line-height: 1.2;
    }

    .metric-label {
      color: var(--text-muted);
      font-size: 13px;
      margin-top: 4px;
    }

    .chart-container {
      position: relative;
      height: 200px;
      margin-top: 16px;
    }

    .btn {
      background: var(--bg-secondary);
      border: 0;
      padding: 12px 20px;
      border-radius: var(--radius-sm);
      color: var(--text-primary);
      font-weight: 700;
      font-size: 14px;
      cursor: pointer;
      transition: var(--transition);
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }

    .btn:hover {
      background: #00aacc;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0,187,221,0.3);
    }

    .btn.ghost {
      background: transparent;
      border: 2px solid var(--border-color);
      color: var(--text-secondary);
    }

    .btn.ghost:hover {
      background: var(--card-bg);
      border-color: var(--bg-secondary);
    }

    .fab {
      position: fixed;
      right: 32px;
      bottom: 32px;
      background: linear-gradient(135deg, #FF4C4C 0%, #CC0000 100%);
      color: #fff;
      padding: 18px 24px;
      border-radius: 999px;
      box-shadow: 0 8px 24px rgba(255,76,76,0.4);
      border: 0;
      font-weight: 800;
      font-size: 14px;
      cursor: pointer;
      transition: var(--transition);
      z-index: 1000;
    }

    .fab:hover {
      transform: scale(1.05);
      box-shadow: 0 12px 32px rgba(255,76,76,0.5);
    }

    .timeline {
      position: relative;
      padding-left: 40px;
      margin-top: 24px;
    }

    .timeline::before {
      content: '';
      position: absolute;
      left: 15px;
      top: 0;
      bottom: 0;
      width: 2px;
      background: var(--border-color);
    }

    .timeline-item {
      position: relative;
      margin-bottom: 24px;
      padding: 16px;
      background: var(--card-bg);
      border-radius: var(--radius-sm);
      border: 1px solid var(--border-color);
    }

    .timeline-item::before {
      content: '';
      position: absolute;
      left: -32px;
      top: 20px;
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: var(--bg-secondary);
      border: 3px solid var(--bg-primary);
    }

    .timeline-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
    }

    .timeline-title {
      font-weight: 700;
      color: var(--text-primary);
    }

    .timeline-date {
      color: var(--text-muted);
      font-size: 13px;
    }

    .timeline-content {
      color: var(--text-muted);
      font-size: 14px;
    }

    .notifications-panel {
      position: fixed;
      right: 20px;
      top: 80px;
      width: 380px;
      max-height: 500px;
      background: linear-gradient(180deg, rgba(0,51,97,0.95) 0%, rgba(0,31,61,0.95) 100%);
      border-radius: var(--radius);
      border: 2px solid var(--border-color);
      box-shadow: var(--shadow);
      z-index: 9999;
      display: none;
      flex-direction: column;
      overflow: hidden;
    }

    .notifications-panel.open {
      display: flex;
    }

    .notifications-header {
      padding: 20px;
      border-bottom: 2px solid var(--border-color);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .notifications-list {
      overflow-y: auto;
      flex: 1;
    }

    .notification-item {
      padding: 16px 20px;
      border-bottom: 1px solid var(--border-color);
      cursor: pointer;
      transition: var(--transition);
    }

    .notification-item:hover {
      background: var(--card-hover);
    }

    .notification-item.unread {
      background: rgba(0,187,221,0.1);
    }

    .notification-title {
      font-weight: 700;
      color: var(--text-primary);
      margin-bottom: 4px;
    }

    .notification-text {
      color: var(--text-muted);
      font-size: 13px;
    }

    .notification-time {
      color: var(--text-muted-2);
      font-size: 11px;
      margin-top: 4px;
    }

    .modal {
      position: fixed;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      display: none;
      align-items: center;
      justify-content: center;
      background: rgba(0,0,0,0.7);
      backdrop-filter: blur(4px);
      z-index: 10000;
    }

    .modal.open {
      display: flex;
    }

    .modal .panel {
      background: linear-gradient(180deg, rgba(0,51,97,0.95) 0%, rgba(0,31,61,0.95) 100%);
      padding: 32px;
      border-radius: var(--radius);
      max-width: 600px;
      width: 95%;
      border: 2px solid var(--border-color);
      box-shadow: var(--shadow);
    }

    section {
      display: none;
    }

    section.active {
      display: block;
    }

    section h3 {
      font-size: 24px;
      font-weight: 800;
      margin: 0 0 12px 0;
      color: var(--text-primary);
    }

    .muted {
      color: var(--text-muted);
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 16px;
    }

    th, td {
      padding: 14px;
      text-align: left;
      border-bottom: 1px solid var(--border-color);
    }

    th {
      font-weight: 700;
      color: var(--text-primary);
      font-size: 13px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    td {
      color: var(--text-muted);
      font-size: 14px;
    }

    tr:hover td {
      background: rgba(255,255,255,0.03);
      color: var(--text-secondary);
    }

    footer {
      background: rgba(24,24,24,0.8);
      color: var(--text-secondary);
      padding: 20px 24px;
      border-radius: var(--radius-sm);
      margin-top: 40px;
      border: 1px solid var(--border-color);
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 20px;
      flex-wrap: wrap;
    }

    @media (max-width: 900px) {
      .container {
        grid-template-columns: 1fr;
      }
      nav.sidebar {
        height: auto;
        border-radius: var(--radius);
        position: relative;
        top: 0;
      }
      .dashboard {
        grid-template-columns: 1fr;
      }
    }

    .skeleton {
      background: linear-gradient(90deg, var(--card-bg) 25%, var(--card-hover) 50%, var(--card-bg) 75%);
      background-size: 200% 100%;
      animation: loading 1.5s ease-in-out infinite;
    }

    @keyframes loading {
      0% { background-position: 200% 0; }
      100% { background-position: -200% 0; }
    }

    /* Copilot Chat Styles */
    .copilot-message {
      display: flex;
      gap: 12px;
      margin-bottom: 20px;
      animation: fadeIn 0.3s ease-in;
    }

    .copilot-message.bot {
      flex-direction: row;
    }

    .copilot-message.user {
      flex-direction: row-reverse;
    }

    .message-avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: linear-gradient(135deg, #00BBDD 0%, #007760 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      flex-shrink: 0;
    }

    .message-content {
      flex: 1;
      background: var(--card-bg);
      padding: 12px 16px;
      border-radius: 12px;
      border: 1px solid var(--border-color);
    }

    .message-text {
      color: var(--text-primary);
      line-height: 1.5;
    }

    .message-time {
      font-size: 11px;
      color: var(--text-muted);
      margin-top: 4px;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    .block-item {
      transition: var(--transition);
    }

    .block-item:hover {
      transform: translateX(4px);
      border-left-width: 6px !important;
    }
  </style>
</head>
<body>
  <a href="#maincontent" class="skip-link">Pular para conte√∫do</a>

  <div class="app">
    <div class="container" role="application" aria-label="Portal do Cliente Opus Tech">
      
      <nav class="sidebar" aria-label="Menu lateral principal">
        <div class="brand">
          <div>
            <h2 style="margin:0;font-size:20px;color:var(--text-primary)">Opus Tech</h2>
            <small>Portal do Cliente</small>
          </div>
        </div>

        <div class="menu" role="navigation" aria-label="Se√ß√µes do portal">
          <button onclick="showSection('dashboard')" aria-controls="dashboard" class="active">üìä Dashboard</button>
          <button onclick="showSection('copilot')" aria-controls="copilot">ü§ñ Copilot IA</button>
          <button onclick="showSection('predicao')" aria-controls="predicao">üîÆ Predi√ß√£o Proativa</button>
          <button onclick="showSection('automacao')" aria-controls="automacao">‚ö° Automa√ß√£o</button>
          <button onclick="showSection('visualizacao3d')" aria-controls="visualizacao3d">üåê Infraestrutura 3D</button>
          <button onclick="showSection('servicos')" aria-controls="servicos">üíº Servi√ßos</button>
          <button onclick="showSection('financeiro')" aria-controls="financeiro">üí∞ Financeiro</button>
          <button onclick="showSection('atendimento')" aria-controls="atendimento">üéß Atendimento</button>
          <button onclick="showSection('documentos')" aria-controls="documentos">üìÑ Documentos</button>
          <button onclick="showSection('analytics')" aria-controls="analytics">üìà Analytics</button>
          <button onclick="showSection('governanca')" aria-controls="governanca">üìã Governan√ßa</button>
          <button onclick="showSection('blockchain')" aria-controls="blockchain">‚õìÔ∏è Blockchain</button>
          <button onclick="showSection('gamificacao')" aria-controls="gamificacao">üéÆ Gamifica√ß√£o</button>
          <button onclick="showSection('marketplace')" aria-controls="marketplace">üõí Marketplace</button>
          <button onclick="showSection('iot')" aria-controls="iot">üì° IoT</button>
          <button onclick="showSection('voz')" aria-controls="voz">üé§ Assistente Voz</button>
          <button onclick="showSection('colaboracao')" aria-controls="colaboracao">üë• Colabora√ß√£o</button>
        </div>

        <div class="sidebar-footer">
          <div><strong>Contato:</strong><br>gerente.conta@opustech.com.br</div>
          <div><strong>Telefone:</strong><br>+55 (41) 0000-0000</div>
          <div style="margin-top:16px">
            <button class="btn" onclick="showSection('suporte')">üö® Abrir Chamado</button>
          </div>
        </div>
      </nav>

      <main id="maincontent" tabindex="-1">
        <header class="top" role="banner">
          <div class="left">
            <h2 id="title">Dashboard ‚Äî Portal do Cliente</h2>
            <div class="subtitle">Vis√£o consolidada dos servi√ßos, finan√ßas, suporte e conformidade</div>
          </div>

          <div class="header-right">
            <div class="search" role="search">
              <input id="searchInput" aria-label="Pesquisar" placeholder="Pesquisar (Ctrl+K)..." onkeydown="handleSearchKeydown(event)">
            </div>

            <button class="notifications-btn" onclick="toggleNotifications()" aria-label="Notifica√ß√µes">
              üîî
              <span class="notifications-badge" id="notificationBadge">3</span>
            </button>

            <div class="user" role="group" aria-label="Perfil do usu√°rio">
              <div class="user-info" style="text-align:right;min-width:120px">
                <div class="user-name">Cliente Exemplo</div>
                <div class="user-account">Conta: ACME Corp</div>
              </div>
              <img src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='80' height='80'><rect width='100%' height='100%' fill='%2300BBDD'/><text x='50%' y='55%' font-size='32' font-family='Arial' fill='%23FFFFFF' text-anchor='middle' alignment-baseline='middle'>CE</text></svg>" alt="avatar"/>
            </div>
          </div>
        </header>

        <!-- Dashboard -->
        <section id="dashboard" class="active" aria-labelledby="title">
          <div class="dashboard">
            <div class="card" aria-live="polite">
              <h3>Servi√ßos Ativos</h3>
              <div class="metric">8</div>
              <div class="metric-label">SLA m√©dio: 99.92%</div>
              <div class="chart-container">
                <canvas id="slaChart"></canvas>
              </div>
            </div>

            <div class="card">
              <h3>Chamados Abertos</h3>
              <div class="metric">5</div>
              <div class="metric-label">Priority: 1 cr√≠tico</div>
              <div style="margin-top:16px">
                <button class="btn" onclick="showSection('atendimento')">Ver chamados</button>
              </div>
            </div>

            <div class="card">
              <h3>Financeiro</h3>
              <div class="metric">R$ 12.450,00</div>
              <div class="metric-label">Faturas vencidas: 1</div>
              <div style="margin-top:16px">
                <button class="btn ghost" onclick="showSection('financeiro')">Ver faturas</button>
              </div>
            </div>
          </div>

          <div style="margin-top:32px" class="card" style="background:linear-gradient(135deg, rgba(0,187,221,0.1) 0%, rgba(0,119,96,0.1) 100%);border:2px solid var(--bg-secondary)">
            <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px">
              <h3 style="margin:0">Certifica√ß√µes ISO</h3>
              <div style="display:flex;gap:8px">
                <span style="background:var(--bg-tertiary);padding:4px 12px;border-radius:999px;font-size:11px;font-weight:700">9001</span>
                <span style="background:var(--bg-primary);padding:4px 12px;border-radius:999px;font-size:11px;font-weight:700">27001</span>
                <span style="background:var(--bg-secondary);padding:4px 12px;border-radius:999px;font-size:11px;font-weight:700">27701</span>
              </div>
            </div>
            <p class="muted" style="margin-bottom:16px">Opus Tech possui certifica√ß√µes internacionais que comprovam nosso compromisso com qualidade, seguran√ßa e privacidade.</p>
            <div style="display:grid;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));gap:12px;margin-bottom:16px">
              <div>
                <div class="muted" style="font-size:12px">ISO 9001:2015</div>
                <div style="font-weight:700;color:#00BBDD">V√°lido at√© 18/09/2028</div>
              </div>
              <div>
                <div class="muted" style="font-size:12px">ISO/IEC 27001:2022</div>
                <div style="font-weight:700;color:#00BBDD">V√°lido at√© 18/09/2028</div>
              </div>
              <div>
                <div class="muted" style="font-size:12px">ISO 27701:2019</div>
                <div style="font-weight:700;color:#00BBDD">V√°lido at√© 18/09/2028</div>
              </div>
            </div>
            <button class="btn" onclick="showSection('governanca')" style="width:100%">Ver Todos os Certificados</button>
          </div>

          <div style="margin-top:32px" class="card">
            <h3>√öltimos Chamados</h3>
            <table aria-describedby="title">
              <thead>
                <tr><th>ID</th><th>Assunto</th><th>Prioridade</th><th>Status</th><th>Atualizado</th><th>A√ß√µes</th></tr>
              </thead>
              <tbody>
                <tr><td>#2451</td><td>Falha no backup</td><td><span style="color:#FF4C4C">Cr√≠tico</span></td><td>Aguardando</td><td>20/11/2025</td><td><button class="btn ghost" style="padding:6px 12px;font-size:12px" onclick="viewTicketTimeline(2451)">Ver Timeline</button></td></tr>
                <tr><td>#2448</td><td>Renova√ß√£o de licen√ßa</td><td>M√©dia</td><td>Em atendimento</td><td>18/11/2025</td><td><button class="btn ghost" style="padding:6px 12px;font-size:12px" onclick="viewTicketTimeline(2448)">Ver Timeline</button></td></tr>
                <tr><td>#2437</td><td>Solicita√ß√£o de acesso</td><td>Baixa</td><td>Conclu√≠do</td><td>10/11/2025</td><td><button class="btn ghost" style="padding:6px 12px;font-size:12px" onclick="viewTicketTimeline(2437)">Ver Timeline</button></td></tr>
              </tbody>
            </table>
          </div>
        </section>

        <!-- Analytics -->
        <section id="analytics">
          <h3>Analytics e M√©tricas</h3>
          <p class="muted">Dashboards executivos com m√©tricas de SLA, MTTR, MTBF e satisfa√ß√£o do cliente.</p>

          <div class="dashboard" style="margin-top:24px">
            <div class="card">
              <h3>SLA por Servi√ßo</h3>
              <div class="chart-container" style="height:250px">
                <canvas id="slaByServiceChart"></canvas>
              </div>
            </div>

            <div class="card">
              <h3>Volume de Chamados</h3>
              <div class="chart-container" style="height:250px">
                <canvas id="ticketsVolumeChart"></canvas>
              </div>
            </div>
          </div>

          <div class="card" style="margin-top:24px">
            <h3>M√©tricas Principais</h3>
            <div style="display:grid;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));gap:20px;margin-top:16px">
              <div>
                <div style="font-size:32px;font-weight:800;color:var(--bg-secondary)">2.3h</div>
                <div class="muted">MTTR M√©dio</div>
              </div>
              <div>
                <div style="font-size:32px;font-weight:800;color:var(--bg-secondary)">720h</div>
                <div class="muted">MTBF M√©dio</div>
              </div>
              <div>
                <div style="font-size:32px;font-weight:800;color:var(--bg-secondary)">85%</div>
                <div class="muted">Resolu√ß√£o 1¬™ Tentativa</div>
              </div>
              <div>
                <div style="font-size:32px;font-weight:800;color:var(--bg-secondary)">52</div>
                <div class="muted">NPS Score</div>
              </div>
            </div>
          </div>
        </section>

        <!-- Atendimento com Timeline -->
        <section id="atendimento">
          <h3>Atendimento e Suporte</h3>
          <p class="muted">Abertura de chamados, prioriza√ß√£o autom√°tica, linha do tempo e m√©tricas (SLA / MTTR / MTBF).</p>

          <div class="card" style="margin-top:24px">
            <h4>Abrir novo chamado</h4>
            <form onsubmit="event.preventDefault();openTicket()">
              <div style="display:flex;gap:12px;flex-wrap:wrap;margin-top:16px">
                <input required placeholder="Assunto" style="flex:1;min-width:200px;padding:12px;border-radius:8px;border:2px solid var(--border-color);background:var(--card-bg);color:var(--text-primary)">
                <select required style="padding:12px;border-radius:8px;border:2px solid var(--border-color);background:var(--card-bg);color:var(--text-primary);min-width:150px">
                  <option value="">Prioridade</option>
                  <option>Baixa</option>
                  <option>M√©dia</option>
                  <option>Alta</option>
                  <option>Cr√≠tico</option>
                </select>
              </div>
              <textarea required placeholder="Descreva o problema" style="width:100%;min-height:120px;margin-top:12px;padding:12px;border-radius:8px;border:2px solid var(--border-color);background:var(--card-bg);color:var(--text-primary);font-family:inherit;resize:vertical"></textarea>
              <div style="margin-top:16px;display:flex;gap:12px;justify-content:flex-end">
                <button class="btn ghost" type="button" onclick="attachFile()">Anexar arquivo</button>
                <button class="btn" type="submit">Enviar chamado</button>
              </div>
            </form>
          </div>

          <div class="card" style="margin-top:24px">
            <h4>Timeline do Chamado #2451</h4>
            <div class="timeline" id="ticketTimeline">
              <div class="timeline-item">
                <div class="timeline-header">
                  <div class="timeline-title">Chamado criado</div>
                  <div class="timeline-date">20/11/2025 14:30</div>
                </div>
                <div class="timeline-content">Cliente reportou falha no backup autom√°tico</div>
              </div>
              <div class="timeline-item">
                <div class="timeline-header">
                  <div class="timeline-title">Atribu√≠do para equipe NOC</div>
                  <div class="timeline-date">20/11/2025 14:35</div>
                </div>
                <div class="timeline-content">Chamado priorizado como cr√≠tico e atribu√≠do</div>
              </div>
              <div class="timeline-item">
                <div class="timeline-header">
                  <div class="timeline-title">Diagn√≥stico iniciado</div>
                  <div class="timeline-date">20/11/2025 15:00</div>
                </div>
                <div class="timeline-content">Equipe iniciou an√°lise do problema</div>
              </div>
            </div>
          </div>
        </section>

        <!-- Outras se√ß√µes simplificadas -->
        <section id="servicos">
          <h3>Servi√ßos Contratados</h3>
          <p class="muted">Lista completa com indicadores, contratos e documentos associados.</p>
        </section>

        <section id="financeiro">
          <h3>üí∞ Painel Financeiro ‚Äî An√°lise Preditiva</h3>
          <p class="muted">Acesso a boletos, notas, an√°lise preditiva de custos com IA e recomenda√ß√µes de otimiza√ß√£o.</p>
          
          <div class="dashboard" style="margin-top:24px">
            <div class="card">
              <h4>Faturamento Mensal</h4>
              <div class="metric" style="color:#00BBDD">R$ 124.500</div>
              <div class="metric-label">Novembro 2025</div>
            </div>
            <div class="card">
              <h4>Previs√£o Pr√≥ximo M√™s</h4>
              <div class="metric" style="color:#FFA500">R$ 132.800</div>
              <div class="metric-label">+6.7% (IA Preditiva)</div>
            </div>
            <div class="card">
              <h4>Economia Potencial</h4>
              <div class="metric" style="color:#00BBDD">R$ 18.700</div>
              <div class="metric-label">Com otimiza√ß√µes sugeridas</div>
            </div>
          </div>
          
          <div class="card" style="margin-top:24px">
            <h4>Previs√£o de Custos (IA Preditiva)</h4>
            <div class="chart-container" style="height:300px">
              <canvas id="financial-prediction-chart"></canvas>
            </div>
          </div>
          
          <div class="card" style="margin-top:24px">
            <h4>Recomenda√ß√µes de Otimiza√ß√£o</h4>
            <div style="display:grid;grid-template-columns:repeat(auto-fill, minmax(300px, 1fr));gap:16px;margin-top:16px">
              <div style="background:var(--card-bg);padding:16px;border-radius:12px;border-left:4px solid #00BBDD">
                <div style="display:flex;justify-content:space-between;margin-bottom:8px">
                  <strong>Redu√ß√£o de Inst√¢ncias Ociosas</strong>
                  <span style="color:#00BBDD;font-weight:700">-R$ 8.200</span>
                </div>
                <div class="muted" style="font-size:13px">
                  Identificadas 12 inst√¢ncias com uso < 10%. Desligamento pode economizar R$ 8.200/m√™s.
                </div>
                <button class="btn ghost" style="width:100%;padding:8px;font-size:12px;margin-top:12px" onclick="applyOptimization('instances')">Aplicar Otimiza√ß√£o</button>
              </div>
              
              <div style="background:var(--card-bg);padding:16px;border-radius:12px;border-left:4px solid #007760">
                <div style="display:flex;justify-content:space-between;margin-bottom:8px">
                  <strong>Otimiza√ß√£o de Storage</strong>
                  <span style="color:#00BBDD;font-weight:700">-R$ 5.400</span>
                </div>
                <div class="muted" style="font-size:13px">
                  Migra√ß√£o de dados frios para tier de storage mais barato pode reduzir custos em 35%.
                </div>
                <button class="btn ghost" style="width:100%;padding:8px;font-size:12px;margin-top:12px" onclick="applyOptimization('storage')">Aplicar Otimiza√ß√£o</button>
              </div>
              
              <div style="background:var(--card-bg);padding:16px;border-radius:12px;border-left:4px solid #FFA500">
                <div style="display:flex;justify-content:space-between;margin-bottom:8px">
                  <strong>Commit de Reserva</strong>
                  <span style="color:#00BBDD;font-weight:700">-R$ 5.100</span>
                </div>
                <div class="muted" style="font-size:13px">
                  Compromisso de uso de 1 ano pode reduzir custos de compute em at√© 40%.
                </div>
                <button class="btn ghost" style="width:100%;padding:8px;font-size:12px;margin-top:12px" onclick="applyOptimization('reserved')">Aplicar Otimiza√ß√£o</button>
              </div>
            </div>
          </div>
          
          <div class="card" style="margin-top:24px">
            <h4>Faturas e Boletos</h4>
            <table aria-describedby="title">
              <thead>
                <tr><th>Refer√™ncia</th><th>Valor</th><th>Vencimento</th><th>Status</th><th>A√ß√µes</th></tr>
              </thead>
              <tbody>
                <tr><td>Nov/2025</td><td>R$ 124.500,00</td><td>10/12/2025</td><td><span style="color:#00BBDD">Pendente</span></td><td><button class="btn ghost" style="padding:4px 8px;font-size:11px">Download</button></td></tr>
                <tr><td>Out/2025</td><td>R$ 118.200,00</td><td>10/11/2025</td><td><span style="color:#007760">Pago</span></td><td><button class="btn ghost" style="padding:4px 8px;font-size:11px">Download</button></td></tr>
                <tr><td>Set/2025</td><td>R$ 115.800,00</td><td>10/10/2025</td><td><span style="color:#007760">Pago</span></td><td><button class="btn ghost" style="padding:4px 8px;font-size:11px">Download</button></td></tr>
              </tbody>
            </table>
          </div>
        </section>

        <section id="documentos">
          <h3>Central de Documentos</h3>
          <p class="muted">Controle de vers√µes, download seguro e logs de auditoria.</p>
        </section>

        <section id="governanca">
          <h3>Planner ‚Äî Governan√ßa, ISO e Entreg√°veis</h3>
          <p class="muted">Plano detalhado por buckets, entreg√°veis, respons√°veis, KPIs e checkpoints de conformidade.</p>

          <div style="margin-top:32px">
            <h4>Certifica√ß√µes ISO ‚Äî Comprova√ß√£o de Conformidade</h4>
            <p class="muted" style="margin-bottom:24px">A Opus Tech possui certifica√ß√µes internacionais que comprovam nosso compromisso com qualidade, seguran√ßa e privacidade.</p>

            <div class="dashboard" style="margin-top:24px">
              <!-- ISO 9001:2015 -->
              <div class="card" style="cursor:pointer" onclick="viewCertificate('iso9001')">
                <div style="display:flex;align-items:center;gap:12px;margin-bottom:16px">
                  <div style="width:60px;height:60px;background:linear-gradient(135deg, #007760 0%, #005a47 100%);border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:24px;font-weight:800;color:white">9001</div>
                  <div>
                    <h3 style="margin:0;font-size:18px;color:var(--text-primary)">ISO 9001:2015</h3>
                    <div class="muted" style="font-size:13px">Quality Management System</div>
                  </div>
                </div>
                <div style="margin-top:16px;padding-top:16px;border-top:1px solid var(--border-color)">
                  <div style="display:flex;justify-content:space-between;margin-bottom:8px">
                    <span class="muted">Certificado:</span>
                    <strong>2UDAUTCU20250919BRAQM1X4</strong>
                  </div>
                  <div style="display:flex;justify-content:space-between;margin-bottom:8px">
                    <span class="muted">Emiss√£o:</span>
                    <span>19/09/2025</span>
                  </div>
                  <div style="display:flex;justify-content:space-between;margin-bottom:8px">
                    <span class="muted">Validade:</span>
                    <span style="color:#00BBDD;font-weight:700">18/09/2028</span>
                  </div>
                  <div style="display:flex;justify-content:space-between">
                    <span class="muted">Certificadora:</span>
                    <span>TNV Certification Ltd.</span>
                  </div>
                  <div style="margin-top:12px">
                    <button class="btn ghost" style="width:100%;padding:8px;font-size:12px" onclick="event.stopPropagation();viewCertificate('iso9001')">Ver Certificado</button>
                  </div>
                </div>
              </div>

              <!-- ISO/IEC 27001:2022 -->
              <div class="card" style="cursor:pointer" onclick="viewCertificate('iso27001')">
                <div style="display:flex;align-items:center;gap:12px;margin-bottom:16px">
                  <div style="width:60px;height:60px;background:linear-gradient(135deg, #003361 0%, #001f3d 100%);border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:24px;font-weight:800;color:white">27001</div>
                  <div>
                    <h3 style="margin:0;font-size:18px;color:var(--text-primary)">ISO/IEC 27001:2022</h3>
                    <div class="muted" style="font-size:13px">Information Security Management</div>
                  </div>
                </div>
                <div style="margin-top:16px;padding-top:16px;border-top:1px solid var(--border-color)">
                  <div style="display:flex;justify-content:space-between;margin-bottom:8px">
                    <span class="muted">Certificado:</span>
                    <strong>2UDAUTCU20250919BRAIS16V</strong>
                  </div>
                  <div style="display:flex;justify-content:space-between;margin-bottom:8px">
                    <span class="muted">Emiss√£o:</span>
                    <span>19/09/2025</span>
                  </div>
                  <div style="display:flex;justify-content:space-between;margin-bottom:8px">
                    <span class="muted">Validade:</span>
                    <span style="color:#00BBDD;font-weight:700">18/09/2028</span>
                  </div>
                  <div style="display:flex;justify-content:space-between">
                    <span class="muted">Certificadora:</span>
                    <span>TNV Certification Ltd.</span>
                  </div>
                  <div style="margin-top:12px">
                    <button class="btn ghost" style="width:100%;padding:8px;font-size:12px" onclick="event.stopPropagation();viewCertificate('iso27001')">Ver Certificado</button>
                  </div>
                </div>
              </div>

              <!-- ISO 27701:2019 -->
              <div class="card" style="cursor:pointer" onclick="viewCertificate('iso27701')">
                <div style="display:flex;align-items:center;gap:12px;margin-bottom:16px">
                  <div style="width:60px;height:60px;background:linear-gradient(135deg, #00BBDD 0%, #0099bb 100%);border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:24px;font-weight:800;color:white">27701</div>
                  <div>
                    <h3 style="margin:0;font-size:18px;color:var(--text-primary)">ISO 27701:2019</h3>
                    <div class="muted" style="font-size:13px">Privacy Information Management</div>
                  </div>
                </div>
                <div style="margin-top:16px;padding-top:16px;border-top:1px solid var(--border-color)">
                  <div style="display:flex;justify-content:space-between;margin-bottom:8px">
                    <span class="muted">Certificado:</span>
                    <strong>2UDAUTCU20250919BRAPI1H3</strong>
                  </div>
                  <div style="display:flex;justify-content:space-between;margin-bottom:8px">
                    <span class="muted">Emiss√£o:</span>
                    <span>19/09/2025</span>
                  </div>
                  <div style="display:flex;justify-content:space-between;margin-bottom:8px">
                    <span class="muted">Validade:</span>
                    <span style="color:#00BBDD;font-weight:700">18/09/2028</span>
                  </div>
                  <div style="display:flex;justify-content:space-between">
                    <span class="muted">Certificadora:</span>
                    <span>TNV Certification Ltd.</span>
                  </div>
                  <div style="margin-top:12px">
                    <button class="btn ghost" style="width:100%;padding:8px;font-size:12px" onclick="event.stopPropagation();viewCertificate('iso27701')">Ver Certificado</button>
                  </div>
                </div>
              </div>
            </div>

            <div class="card" style="margin-top:24px;background:linear-gradient(135deg, rgba(0,187,221,0.1) 0%, rgba(0,119,96,0.1) 100%);border:2px solid var(--bg-secondary)">
              <h4 style="margin-bottom:12px">Verifica√ß√£o de Certificados</h4>
              <p class="muted" style="margin-bottom:16px">Todos os certificados podem ser verificados online atrav√©s das plataformas oficiais:</p>
              <div style="display:flex;gap:12px;flex-wrap:wrap">
                <a href="https://www.tnvworld.com" target="_blank" rel="noopener noreferrer" class="btn" style="text-decoration:none">www.tnvworld.com</a>
                <a href="https://www.iafcertsearch.org" target="_blank" rel="noopener noreferrer" class="btn ghost" style="text-decoration:none">www.iafcertsearch.org</a>
              </div>
              <div style="margin-top:16px;padding-top:16px;border-top:1px solid var(--border-color)">
                <div class="muted" style="font-size:13px">
                  <strong>Organiza√ß√£o Certificada:</strong> OPS SOLUCOES EM TECNOLOGIA DA INFORMATICA LTDA.<br>
                  <strong>Endere√ßo:</strong> Av. sete de setembro 4923, Sala 1901, Agua Verde, Curitiba, PR, CEP: 80250-205, Brazil<br>
                  <strong>Escopo:</strong> Provision of server space rental, including implementation, monitoring, support, and maintenance of servers and related services
                </div>
              </div>
            </div>
          </div>
        </section>

        <section id="suporte">
          <h3>Abrir Chamado (R√°pido)</h3>
          <p class="muted">Utilize este formul√°rio para criar rapidamente um ticket.</p>
        </section>

        <!-- ü§ñ Copilot IA - Assistente Inteligente -->
        <section id="copilot">
          <h3>ü§ñ Copilot IA ‚Äî Assistente Inteligente</h3>
          <p class="muted">Assistente com IA generativa para resolu√ß√£o autom√°tica de problemas, an√°lise de logs e sugest√µes inteligentes.</p>
          
          <div class="card" style="margin-top:24px">
            <div style="display:flex;gap:16px;align-items:center;margin-bottom:20px">
              <div style="width:60px;height:60px;background:linear-gradient(135deg, #00BBDD 0%, #007760 100%);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:32px">ü§ñ</div>
              <div>
                <h4 style="margin:0">Opus Copilot</h4>
                <div class="muted">Powered by GPT-4 ‚Ä¢ An√°lise em tempo real</div>
              </div>
            </div>
            
            <div id="copilot-chat" style="background:var(--card-bg);border-radius:12px;padding:20px;min-height:400px;max-height:500px;overflow-y:auto;margin-bottom:16px;border:2px solid var(--border-color)">
              <div class="copilot-message bot">
                <div class="message-avatar">ü§ñ</div>
                <div class="message-content">
                  <div class="message-text">Ol√°! Sou o Opus Copilot. Como posso ajudar voc√™ hoje? Posso analisar logs, resolver problemas, gerar documenta√ß√£o e muito mais!</div>
                  <div class="message-time">Agora</div>
                </div>
              </div>
            </div>
            
            <div style="display:flex;gap:12px">
              <input id="copilot-input" type="text" placeholder="Digite sua pergunta ou descreva o problema..." style="flex:1;padding:12px;border-radius:8px;border:2px solid var(--border-color);background:var(--card-bg);color:var(--text-primary)" onkeypress="if(event.key==='Enter') sendCopilotMessage()">
              <button class="btn" onclick="sendCopilotMessage()">Enviar</button>
              <button class="btn ghost" onclick="clearCopilotChat()">Limpar</button>
            </div>
            
            <div style="margin-top:16px;display:flex;gap:8px;flex-wrap:wrap">
              <button class="btn ghost" style="padding:8px 12px;font-size:12px" onclick="quickCopilotAction('analyze-logs')">üìä Analisar Logs</button>
              <button class="btn ghost" style="padding:8px 12px;font-size:12px" onclick="quickCopilotAction('troubleshoot')">üîß Troubleshooting</button>
              <button class="btn ghost" style="padding:8px 12px;font-size:12px" onclick="quickCopilotAction('generate-doc')">üìù Gerar Documenta√ß√£o</button>
              <button class="btn ghost" style="padding:8px 12px;font-size:12px" onclick="quickCopilotAction('optimize')">‚ö° Otimizar Config</button>
            </div>
          </div>
          
          <div class="dashboard" style="margin-top:24px">
            <div class="card">
              <h4>Resolu√ß√µes Autom√°ticas</h4>
              <div class="metric" style="color:#00BBDD">62%</div>
              <div class="metric-label">Taxa de resolu√ß√£o sem interven√ß√£o humana</div>
            </div>
            <div class="card">
              <h4>Tempo M√©dio de Resposta</h4>
              <div class="metric" style="color:#00BBDD">1.2s</div>
              <div class="metric-label">Respostas instant√¢neas do Copilot</div>
            </div>
            <div class="card">
              <h4>Problemas Resolvidos</h4>
              <div class="metric" style="color:#00BBDD">1,247</div>
              <div class="metric-label">Este m√™s</div>
            </div>
          </div>
        </section>

        <!-- üîÆ Predi√ß√£o Proativa -->
        <section id="predicao">
          <h3>üîÆ Predi√ß√£o Proativa ‚Äî IA Preditiva</h3>
          <p class="muted">Alertas antes de problemas ocorrerem. An√°lise preditiva baseada em ML para prevenir incidentes.</p>
          
          <div class="card" style="margin-top:24px;background:linear-gradient(135deg, rgba(255,76,76,0.1) 0%, rgba(255,140,0,0.1) 100%);border:2px solid rgba(255,76,76,0.3)">
            <div style="display:flex;align-items:center;gap:12px;margin-bottom:16px">
              <div style="font-size:32px">‚ö†Ô∏è</div>
              <div>
                <h4 style="margin:0;color:#FF4C4C">Alerta Preditivo Ativo</h4>
                <div class="muted">Probabilidade de falha detectada</div>
              </div>
            </div>
            <div style="background:var(--card-bg);padding:16px;border-radius:8px;margin-top:12px">
              <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
                <strong>Servidor DB-PROD-01</strong>
                <span style="color:#FF4C4C;font-weight:700">85% probabilidade</span>
              </div>
              <div class="muted" style="font-size:13px;margin-bottom:12px">
                An√°lise preditiva indica poss√≠vel falha de disco em 48-72 horas baseado em padr√µes hist√≥ricos e tend√™ncia de uso.
              </div>
              <div style="display:flex;gap:8px">
                <button class="btn" style="padding:8px 16px;font-size:12px" onclick="resolvePrediction('db-prod-01')">Aplicar Corre√ß√£o Autom√°tica</button>
                <button class="btn ghost" style="padding:8px 16px;font-size:12px" onclick="scheduleMaintenance('db-prod-01')">Agendar Manuten√ß√£o</button>
              </div>
            </div>
          </div>
          
          <div class="dashboard" style="margin-top:24px">
            <div class="card">
              <h4>Alertas Preditivos</h4>
              <div id="predictive-alerts-list">
                <div style="padding:12px;background:var(--card-bg);border-radius:8px;margin-bottom:8px;border-left:4px solid #FFA500">
                  <div style="display:flex;justify-content:space-between;margin-bottom:4px">
                    <strong>Backup Storage</strong>
                    <span style="color:#FFA500;font-size:12px">70% risco</span>
                  </div>
                  <div class="muted" style="font-size:12px">Capacidade cr√≠tica em 5 dias</div>
                </div>
                <div style="padding:12px;background:var(--card-bg);border-radius:8px;margin-bottom:8px;border-left:4px solid #00BBDD">
                  <div style="display:flex;justify-content:space-between;margin-bottom:4px">
                    <strong>Rede Principal</strong>
                    <span style="color:#00BBDD;font-size:12px">45% risco</span>
                  </div>
                  <div class="muted" style="font-size:12px">Poss√≠vel degrada√ß√£o de performance</div>
                </div>
              </div>
            </div>
            
            <div class="card">
              <h4>Score de Sa√∫de da Infraestrutura</h4>
              <div style="text-align:center;margin:24px 0">
                <div style="width:200px;height:200px;margin:0 auto;position:relative">
                  <canvas id="health-score-chart"></canvas>
                  <div style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center">
                    <div style="font-size:48px;font-weight:800;color:#00BBDD">87</div>
                    <div class="muted">Score</div>
                  </div>
                </div>
              </div>
              <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:16px">
                <div>
                  <div style="font-size:24px;font-weight:700;color:#00BBDD">92%</div>
                  <div class="muted" style="font-size:12px">Servidores</div>
                </div>
                <div>
                  <div style="font-size:24px;font-weight:700;color:#00BBDD">78%</div>
                  <div class="muted" style="font-size:12px">Rede</div>
                </div>
                <div>
                  <div style="font-size:24px;font-weight:700;color:#00BBDD">95%</div>
                  <div class="muted" style="font-size:12px">Storage</div>
                </div>
                <div>
                  <div style="font-size:24px;font-weight:700;color:#00BBDD">83%</div>
                  <div class="muted" style="font-size:12px">Aplica√ß√µes</div>
                </div>
              </div>
            </div>
          </div>
          
          <div class="card" style="margin-top:24px">
            <h4>Previs√µes de Performance</h4>
            <div class="chart-container" style="height:300px">
              <canvas id="prediction-chart"></canvas>
            </div>
          </div>
        </section>

        <!-- ‚ö° Automa√ß√£o Inteligente -->
        <section id="automacao">
          <h3>‚ö° Automa√ß√£o Inteligente ‚Äî Self-Service</h3>
          <p class="muted">Playbooks automatizados, resolu√ß√£o de problemas sem interven√ß√£o humana e auto-scaling inteligente.</p>
          
          <div class="dashboard" style="margin-top:24px">
            <div class="card">
              <h4>Auto-Resolu√ß√£o</h4>
              <div class="metric" style="color:#00BBDD">58%</div>
              <div class="metric-label">Chamados resolvidos automaticamente</div>
              <div style="margin-top:16px">
                <div style="background:var(--bg-primary);height:8px;border-radius:4px;overflow:hidden">
                  <div style="background:#00BBDD;height:100%;width:58%"></div>
                </div>
              </div>
            </div>
            
            <div class="card">
              <h4>Playbooks Ativos</h4>
              <div class="metric" style="color:#00BBDD">24</div>
              <div class="metric-label">Automa√ß√µes configuradas</div>
            </div>
            
            <div class="card">
              <h4>Tempo M√©dio de Resolu√ß√£o</h4>
              <div class="metric" style="color:#00BBDD">3.2min</div>
              <div class="metric-label">Com automa√ß√£o vs 45min manual</div>
            </div>
          </div>
          
          <div class="card" style="margin-top:24px">
            <h4>Playbooks Dispon√≠veis</h4>
            <div style="display:grid;grid-template-columns:repeat(auto-fill, minmax(300px, 1fr));gap:16px;margin-top:16px">
              <div style="background:var(--card-bg);padding:16px;border-radius:12px;border:2px solid var(--border-color);cursor:pointer" onclick="runPlaybook('backup-restore')">
                <div style="display:flex;align-items:center;gap:12px;margin-bottom:12px">
                  <div style="font-size:32px">üíæ</div>
                  <div>
                    <strong>Backup & Restore</strong>
                    <div class="muted" style="font-size:12px">Autom√°tico</div>
                  </div>
                </div>
                <div class="muted" style="font-size:13px;margin-bottom:12px">
                  Restaura√ß√£o autom√°tica de backups em caso de falha
                </div>
                <button class="btn ghost" style="width:100%;padding:8px;font-size:12px">Executar</button>
              </div>
              
              <div style="background:var(--card-bg);padding:16px;border-radius:12px;border:2px solid var(--border-color);cursor:pointer" onclick="runPlaybook('scale-up')">
                <div style="display:flex;align-items:center;gap:12px;margin-bottom:12px">
                  <div style="font-size:32px">üìà</div>
                  <div>
                    <strong>Auto-Scaling</strong>
                    <div class="muted" style="font-size:12px">Inteligente</div>
                  </div>
                </div>
                <div class="muted" style="font-size:13px;margin-bottom:12px">
                  Escalonamento autom√°tico baseado em demanda
                </div>
                <button class="btn ghost" style="width:100%;padding:8px;font-size:12px">Configurar</button>
              </div>
              
              <div style="background:var(--card-bg);padding:16px;border-radius:12px;border:2px solid var(--border-color);cursor:pointer" onclick="runPlaybook('security-scan')">
                <div style="display:flex;align-items:center;gap:12px;margin-bottom:12px">
                  <div style="font-size:32px">üîí</div>
                  <div>
                    <strong>Security Scan</strong>
                    <div class="muted" style="font-size:12px">Autom√°tico</div>
                  </div>
                </div>
                <div class="muted" style="font-size:13px;margin-bottom:12px">
                  Varredura autom√°tica de vulnerabilidades
                </div>
                <button class="btn ghost" style="width:100%;padding:8px;font-size:12px">Executar</button>
              </div>
              
              <div style="background:var(--card-bg);padding:16px;border-radius:12px;border:2px solid var(--border-color);cursor:pointer" onclick="runPlaybook('log-cleanup')">
                <div style="display:flex;align-items:center;gap:12px;margin-bottom:12px">
                  <div style="font-size:32px">üßπ</div>
                  <div>
                    <strong>Log Cleanup</strong>
                    <div class="muted" style="font-size:12px">Agendado</div>
                  </div>
                </div>
                <div class="muted" style="font-size:13px;margin-bottom:12px">
                  Limpeza autom√°tica de logs antigos
                </div>
                <button class="btn ghost" style="width:100%;padding:8px;font-size:12px">Configurar</button>
              </div>
            </div>
          </div>
          
          <div class="card" style="margin-top:24px">
            <h4>Hist√≥rico de Automa√ß√µes</h4>
            <table aria-describedby="title">
              <thead>
                <tr><th>Data/Hora</th><th>Playbook</th><th>Status</th><th>Tempo</th><th>A√ß√µes</th></tr>
              </thead>
              <tbody id="automation-history">
                <tr><td>24/11/2025 14:32</td><td>Backup & Restore</td><td><span style="color:#00BBDD">‚úì Sucesso</span></td><td>2.3min</td><td><button class="btn ghost" style="padding:4px 8px;font-size:11px">Ver logs</button></td></tr>
                <tr><td>24/11/2025 12:15</td><td>Auto-Scaling</td><td><span style="color:#00BBDD">‚úì Sucesso</span></td><td>1.8min</td><td><button class="btn ghost" style="padding:4px 8px;font-size:11px">Ver logs</button></td></tr>
                <tr><td>24/11/2025 10:45</td><td>Security Scan</td><td><span style="color:#FFA500">‚ö† Aten√ß√£o</span></td><td>5.2min</td><td><button class="btn ghost" style="padding:4px 8px;font-size:11px">Ver logs</button></td></tr>
              </tbody>
            </table>
          </div>
        </section>

        <!-- üåê Visualiza√ß√£o 3D -->
        <section id="visualizacao3d">
          <h3>üåê Infraestrutura 3D ‚Äî Visualiza√ß√£o Imersiva</h3>
          <p class="muted">Explore sua infraestrutura em 3D. Visualiza√ß√£o interativa de servidores, datacenters e topologia de rede.</p>
          
          <div class="card" style="margin-top:24px">
            <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px">
              <div>
                <h4 style="margin:0">Datacenter Principal</h4>
                <div class="muted">S√£o Paulo - SP</div>
              </div>
              <div style="display:flex;gap:8px">
                <button class="btn ghost" style="padding:8px 12px;font-size:12px" onclick="reset3DView()">üîÑ Resetar Vista</button>
                <button class="btn ghost" style="padding:8px 12px;font-size:12px" onclick="toggle3DLabels()">üè∑Ô∏è Labels</button>
              </div>
            </div>
            <div id="canvas-3d-container" style="width:100%;height:600px;background:linear-gradient(135deg, #001f3d 0%, #003361 100%);border-radius:12px;position:relative;border:2px solid var(--border-color)">
              <canvas id="canvas-3d" style="width:100%;height:100%"></canvas>
              <div style="position:absolute;top:16px;left:16px;background:rgba(0,0,0,0.7);padding:12px;border-radius:8px;color:white;font-size:12px">
                <div>üñ±Ô∏è Arraste para rotacionar ‚Ä¢ üîç Scroll para zoom</div>
              </div>
            </div>
          </div>
          
          <div class="dashboard" style="margin-top:24px">
            <div class="card">
              <h4>Servidores Ativos</h4>
              <div class="metric" style="color:#00BBDD">24</div>
              <div class="metric-label">No datacenter 3D</div>
            </div>
            <div class="card">
              <h4>Racks</h4>
              <div class="metric" style="color:#00BBDD">6</div>
              <div class="metric-label">Racks visualizados</div>
            </div>
            <div class="card">
              <h4>Status Geral</h4>
              <div style="font-size:32px;color:#00BBDD">‚úì</div>
              <div class="metric-label">Todos operacionais</div>
            </div>
          </div>
          
          <div class="card" style="margin-top:24px">
            <h4>Legenda</h4>
            <div style="display:flex;gap:24px;margin-top:16px;flex-wrap:wrap">
              <div style="display:flex;align-items:center;gap:8px">
                <div style="width:20px;height:20px;background:#00BBDD;border-radius:4px"></div>
                <span style="font-size:13px">Servidor Ativo</span>
              </div>
              <div style="display:flex;align-items:center;gap:8px">
                <div style="width:20px;height:20px;background:#FFA500;border-radius:4px"></div>
                <span style="font-size:13px">Aten√ß√£o</span>
              </div>
              <div style="display:flex;align-items:center;gap:8px">
                <div style="width:20px;height:20px;background:#FF4C4C;border-radius:4px"></div>
                <span style="font-size:13px">Cr√≠tico</span>
              </div>
              <div style="display:flex;align-items:center;gap:8px">
                <div style="width:20px;height:20px;background:#007760;border-radius:4px"></div>
                <span style="font-size:13px">Storage</span>
              </div>
            </div>
          </div>
        </section>

        <!-- ‚õìÔ∏è Blockchain -->
        <section id="blockchain">
          <h3>‚õìÔ∏è Blockchain ‚Äî Auditoria Imut√°vel</h3>
          <p class="muted">Logs imut√°veis, certificados verific√°veis e rastreabilidade completa via blockchain.</p>
          
          <div class="card" style="margin-top:24px">
            <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px">
              <div>
                <h4 style="margin:0">Cadeia de Blocos</h4>
                <div class="muted">√öltima atualiza√ß√£o: <span id="blockchain-last-update">Agora</span></div>
              </div>
              <div style="display:flex;gap:8px">
                <button class="btn ghost" style="padding:8px 12px;font-size:12px" onclick="verifyBlockchain()">‚úì Verificar</button>
                <button class="btn ghost" style="padding:8px 12px;font-size:12px" onclick="exportBlockchain()">üì• Exportar</button>
              </div>
            </div>
            
            <div id="blockchain-chain" style="max-height:500px;overflow-y:auto">
              <div class="block-item" style="background:var(--card-bg);padding:16px;border-radius:12px;margin-bottom:12px;border-left:4px solid #00BBDD">
                <div style="display:flex;justify-content:space-between;align-items:start;margin-bottom:8px">
                  <div>
                    <strong>Bloco #1247</strong>
                    <div class="muted" style="font-size:12px;font-family:monospace">0x8a3f2b1c9d4e5f6a7b8c9d0e1f2a3b4c5d6e7f8a9b0c1d2e3f4a5b6c7d8e9f0a</div>
                  </div>
                  <span style="color:#00BBDD;font-size:12px">‚úì Verificado</span>
                </div>
                <div style="font-size:13px;margin-bottom:8px">
                  <strong>A√ß√£o:</strong> Altera√ß√£o de configura√ß√£o de firewall<br>
                  <strong>Usu√°rio:</strong> admin@opustech.com.br<br>
                  <strong>Timestamp:</strong> 24/11/2025 15:32:18 UTC
                </div>
                <div style="font-size:11px;font-family:monospace;color:var(--text-muted);word-break:break-all">
                  Hash anterior: 0x7b2e1a0c8d3e4f5a6b7c8d9e0f1a2b3c4d5e6f7a8b9c0d1e2f3a4b5c6d7e8f9a0b
                </div>
              </div>
              
              <div class="block-item" style="background:var(--card-bg);padding:16px;border-radius:12px;margin-bottom:12px;border-left:4px solid #00BBDD">
                <div style="display:flex;justify-content:space-between;align-items:start;margin-bottom:8px">
                  <div>
                    <strong>Bloco #1246</strong>
                    <div class="muted" style="font-size:12px;font-family:monospace">0x7b2e1a0c8d3e4f5a6b7c8d9e0f1a2b3c4d5e6f7a8b9c0d1e2f3a4b5c6d7e8f9a0b</div>
                  </div>
                  <span style="color:#00BBDD;font-size:12px">‚úì Verificado</span>
                </div>
                <div style="font-size:13px;margin-bottom:8px">
                  <strong>A√ß√£o:</strong> Certificado ISO 27001 verificado<br>
                  <strong>Usu√°rio:</strong> Sistema<br>
                  <strong>Timestamp:</strong> 24/11/2025 15:30:00 UTC
                </div>
                <div style="font-size:11px;font-family:monospace;color:var(--text-muted);word-break:break-all">
                  Hash anterior: 0x6a1d0b9c7e2f3a4b5c6d7e8f9a0b1c2d3e4f5a6b7c8d9e0f1a2b3c4d5e6f7a8b9c0d
                </div>
              </div>
            </div>
          </div>
          
          <div class="dashboard" style="margin-top:24px">
            <div class="card">
              <h4>Blocos Totais</h4>
              <div class="metric" style="color:#00BBDD">1,247</div>
              <div class="metric-label">Registros imut√°veis</div>
            </div>
            <div class="card">
              <h4>Integridade</h4>
              <div style="font-size:32px;color:#00BBDD">100%</div>
              <div class="metric-label">Cadeia verificada</div>
            </div>
            <div class="card">
              <h4>√öltima Verifica√ß√£o</h4>
              <div style="font-size:24px;color:#00BBDD">‚úì</div>
              <div class="metric-label">H√° 2 minutos</div>
            </div>
          </div>
        </section>

        <!-- üéÆ Gamifica√ß√£o -->
        <section id="gamificacao">
          <h3>üéÆ Gamifica√ß√£o ‚Äî Engajamento e Recompensas</h3>
          <p class="muted">Sistema de pontos, badges, rankings e desafios para otimizar o uso de recursos.</p>
          
          <div class="card" style="margin-top:24px;background:linear-gradient(135deg, rgba(0,187,221,0.15) 0%, rgba(0,119,96,0.15) 100%);border:2px solid var(--bg-secondary)">
            <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:20px">
              <div>
                <h4 style="margin:0">Seu Perfil</h4>
                <div class="muted">N√≠vel 7 ‚Ä¢ Expert</div>
              </div>
              <div style="text-align:right">
                <div style="font-size:32px;font-weight:800;color:#00BBDD">12,450</div>
                <div class="muted" style="font-size:12px">Pontos Totais</div>
              </div>
            </div>
            
            <div style="background:var(--card-bg);padding:16px;border-radius:12px;margin-bottom:16px">
              <div style="display:flex;justify-content:space-between;margin-bottom:8px">
                <span>Progresso para N√≠vel 8</span>
                <span style="color:#00BBDD;font-weight:700">78%</span>
              </div>
              <div style="background:var(--bg-primary);height:12px;border-radius:6px;overflow:hidden">
                <div style="background:linear-gradient(90deg, #00BBDD 0%, #007760 100%);height:100%;width:78%"></div>
              </div>
            </div>
            
            <div style="display:flex;gap:12px;flex-wrap:wrap">
              <div style="background:var(--card-bg);padding:12px;border-radius:8px;flex:1;min-width:120px;text-align:center">
                <div style="font-size:24px;font-weight:700;color:#00BBDD">15</div>
                <div class="muted" style="font-size:11px">Badges</div>
              </div>
              <div style="background:var(--card-bg);padding:12px;border-radius:8px;flex:1;min-width:120px;text-align:center">
                <div style="font-size:24px;font-weight:700;color:#00BBDD">#3</div>
                <div class="muted" style="font-size:11px">Ranking</div>
              </div>
              <div style="background:var(--card-bg);padding:12px;border-radius:8px;flex:1;min-width:120px;text-align:center">
                <div style="font-size:24px;font-weight:700;color:#00BBDD">42</div>
                <div class="muted" style="font-size:11px">Conquistas</div>
              </div>
            </div>
          </div>
          
          <div class="card" style="margin-top:24px">
            <h4>Badges Recentes</h4>
            <div style="display:grid;grid-template-columns:repeat(auto-fill, minmax(150px, 1fr));gap:16px;margin-top:16px">
              <div style="background:var(--card-bg);padding:16px;border-radius:12px;text-align:center;border:2px solid #00BBDD">
                <div style="font-size:48px;margin-bottom:8px">üèÜ</div>
                <strong style="font-size:14px">Otimizador Master</strong>
                <div class="muted" style="font-size:11px;margin-top:4px">Conquistado hoje</div>
              </div>
              <div style="background:var(--card-bg);padding:16px;border-radius:12px;text-align:center">
                <div style="font-size:48px;margin-bottom:8px">‚ö°</div>
                <strong style="font-size:14px">Auto-Scaler</strong>
                <div class="muted" style="font-size:11px;margin-top:4px">H√° 2 dias</div>
              </div>
              <div style="background:var(--card-bg);padding:16px;border-radius:12px;text-align:center">
                <div style="font-size:48px;margin-bottom:8px">üîí</div>
                <strong style="font-size:14px">Security Expert</strong>
                <div class="muted" style="font-size:11px;margin-top:4px">H√° 5 dias</div>
              </div>
            </div>
          </div>
          
          <div class="card" style="margin-top:24px">
            <h4>Ranking Mensal</h4>
            <table aria-describedby="title">
              <thead>
                <tr><th>Posi√ß√£o</th><th>Usu√°rio</th><th>Pontos</th><th>N√≠vel</th></tr>
              </thead>
              <tbody>
                <tr style="background:rgba(0,187,221,0.1)"><td>ü•á 1</td><td>Jo√£o Silva</td><td>18,450</td><td>N√≠vel 9</td></tr>
                <tr style="background:rgba(0,187,221,0.05)"><td>ü•à 2</td><td>Maria Santos</td><td>15,230</td><td>N√≠vel 8</td></tr>
                <tr style="background:rgba(0,187,221,0.1)"><td>ü•â 3</td><td><strong>Voc√™</strong></td><td><strong>12,450</strong></td><td><strong>N√≠vel 7</strong></td></tr>
                <tr><td>4</td><td>Pedro Costa</td><td>10,890</td><td>N√≠vel 6</td></tr>
              </tbody>
            </table>
          </div>
          
          <div class="card" style="margin-top:24px">
            <h4>Desafios do M√™s</h4>
            <div style="display:grid;grid-template-columns:repeat(auto-fill, minmax(250px, 1fr));gap:16px;margin-top:16px">
              <div style="background:var(--card-bg);padding:16px;border-radius:12px;border:2px solid var(--border-color)">
                <div style="display:flex;justify-content:space-between;align-items:start;margin-bottom:12px">
                  <strong>Otimiza√ß√£o de Custos</strong>
                  <span style="color:#00BBDD;font-size:12px">+500 pts</span>
                </div>
                <div class="muted" style="font-size:13px;margin-bottom:12px">
                  Reduza 15% dos custos de infraestrutura este m√™s
                </div>
                <div style="background:var(--bg-primary);height:6px;border-radius:3px;overflow:hidden;margin-bottom:8px">
                  <div style="background:#00BBDD;height:100%;width:65%"></div>
                </div>
                <div class="muted" style="font-size:11px">65% completo</div>
              </div>
              
              <div style="background:var(--card-bg);padding:16px;border-radius:12px;border:2px solid var(--border-color)">
                <div style="display:flex;justify-content:space-between;align-items:start;margin-bottom:12px">
                  <strong>Zero Downtime</strong>
                  <span style="color:#00BBDD;font-size:12px">+1000 pts</span>
                </div>
                <div class="muted" style="font-size:13px;margin-bottom:12px">
                  Mantenha 100% de uptime por 30 dias
                </div>
                <div style="background:var(--bg-primary);height:6px;border-radius:3px;overflow:hidden;margin-bottom:8px">
                  <div style="background:#00BBDD;height:100%;width:80%"></div>
                </div>
                <div class="muted" style="font-size:11px">24/30 dias</div>
              </div>
            </div>
          </div>
        </section>

        <!-- üõí Marketplace -->
        <section id="marketplace">
          <h3>üõí Marketplace ‚Äî Solu√ß√µes e Integra√ß√µes</h3>
          <p class="muted">Loja de add-ons, integra√ß√µes pr√©-configuradas e templates de infraestrutura como c√≥digo.</p>
          
          <div class="card" style="margin-top:24px">
            <div style="display:flex;gap:16px;margin-bottom:20px">
              <input type="text" placeholder="Buscar solu√ß√µes..." style="flex:1;padding:12px;border-radius:8px;border:2px solid var(--border-color);background:var(--card-bg);color:var(--text-primary)">
              <select style="padding:12px;border-radius:8px;border:2px solid var(--border-color);background:var(--card-bg);color:var(--text-primary);min-width:150px">
                <option>Todas as categorias</option>
                <option>Integra√ß√µes Cloud</option>
                <option>Monitoramento</option>
                <option>Seguran√ßa</option>
                <option>Templates IaC</option>
              </select>
            </div>
            
            <div style="display:grid;grid-template-columns:repeat(auto-fill, minmax(280px, 1fr));gap:20px">
              <div style="background:var(--card-bg);padding:20px;border-radius:12px;border:2px solid var(--border-color);cursor:pointer;transition:var(--transition)" onmouseover="this.style.borderColor='#00BBDD';this.style.transform='translateY(-4px)'" onmouseout="this.style.borderColor='var(--border-color)';this.style.transform='translateY(0)'">
                <div style="display:flex;justify-content:space-between;align-items:start;margin-bottom:12px">
                  <div style="font-size:40px">‚òÅÔ∏è</div>
                  <span style="background:#00BBDD;padding:4px 8px;border-radius:4px;font-size:11px;font-weight:700">Popular</span>
                </div>
                <h4 style="margin:0 0 8px 0">AWS Integration</h4>
                <div class="muted" style="font-size:13px;margin-bottom:12px">
                  Integra√ß√£o completa com AWS: EC2, S3, RDS, Lambda. Gerenciamento unificado.
                </div>
                <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
                  <div>
                    <div style="font-size:20px;font-weight:700;color:#00BBDD">Gratuito</div>
                    <div class="muted" style="font-size:11px">4.8 ‚≠ê (1.2k avalia√ß√µes)</div>
                  </div>
                </div>
                <button class="btn" style="width:100%;padding:10px">Instalar</button>
              </div>
              
              <div style="background:var(--card-bg);padding:20px;border-radius:12px;border:2px solid var(--border-color);cursor:pointer;transition:var(--transition)" onmouseover="this.style.borderColor='#00BBDD';this.style.transform='translateY(-4px)'" onmouseout="this.style.borderColor='var(--border-color)';this.style.transform='translateY(0)'">
                <div style="display:flex;justify-content:space-between;align-items:start;margin-bottom:12px">
                  <div style="font-size:40px">üìä</div>
                  <span style="background:#007760;padding:4px 8px;border-radius:4px;font-size:11px;font-weight:700">Novo</span>
                </div>
                <h4 style="margin:0 0 8px 0">Grafana Dashboard</h4>
                <div class="muted" style="font-size:13px;margin-bottom:12px">
                  Dashboards pr√©-configurados para monitoramento avan√ßado de m√©tricas.
                </div>
                <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
                  <div>
                    <div style="font-size:20px;font-weight:700;color:#00BBDD">Gratuito</div>
                    <div class="muted" style="font-size:11px">4.9 ‚≠ê (856 avalia√ß√µes)</div>
                  </div>
                </div>
                <button class="btn" style="width:100%;padding:10px">Instalar</button>
              </div>
              
              <div style="background:var(--card-bg);padding:20px;border-radius:12px;border:2px solid var(--border-color);cursor:pointer;transition:var(--transition)" onmouseover="this.style.borderColor='#00BBDD';this.style.transform='translateY(-4px)'" onmouseout="this.style.borderColor='var(--border-color)';this.style.transform='translateY(0)'">
                <div style="display:flex;justify-content:space-between;align-items:start;margin-bottom:12px">
                  <div style="font-size:40px">üîí</div>
                  <span style="background:#FFA500;padding:4px 8px;border-radius:4px;font-size:11px;font-weight:700">Premium</span>
                </div>
                <h4 style="margin:0 0 8px 0">Advanced Security Suite</h4>
                <div class="muted" style="font-size:13px;margin-bottom:12px">
                  Firewall avan√ßado, WAF, DDoS protection e an√°lise de amea√ßas em tempo real.
                </div>
                <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
                  <div>
                    <div style="font-size:20px;font-weight:700;color:#00BBDD">R$ 299/m√™s</div>
                    <div class="muted" style="font-size:11px">4.7 ‚≠ê (342 avalia√ß√µes)</div>
                  </div>
                </div>
                <button class="btn" style="width:100%;padding:10px">Assinar</button>
              </div>
              
              <div style="background:var(--card-bg);padding:20px;border-radius:12px;border:2px solid var(--border-color);cursor:pointer;transition:var(--transition)" onmouseover="this.style.borderColor='#00BBDD';this.style.transform='translateY(-4px)'" onmouseout="this.style.borderColor='var(--border-color)';this.style.transform='translateY(0)'">
                <div style="display:flex;justify-content:space-between;align-items:start;margin-bottom:12px">
                  <div style="font-size:40px">üöÄ</div>
                </div>
                <h4 style="margin:0 0 8px 0">Terraform Templates</h4>
                <div class="muted" style="font-size:13px;margin-bottom:12px">
                  Templates IaC prontos para deploy: Kubernetes, Docker, CI/CD pipelines.
                </div>
                <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
                  <div>
                    <div style="font-size:20px;font-weight:700;color:#00BBDD">Gratuito</div>
                    <div class="muted" style="font-size:11px">5.0 ‚≠ê (2.1k avalia√ß√µes)</div>
                  </div>
                </div>
                <button class="btn" style="width:100%;padding:10px">Baixar</button>
              </div>
            </div>
          </div>
          
          <div class="card" style="margin-top:24px">
            <h4>Minhas Instala√ß√µes</h4>
            <div style="display:grid;grid-template-columns:repeat(auto-fill, minmax(200px, 1fr));gap:16px;margin-top:16px">
              <div style="background:var(--card-bg);padding:16px;border-radius:12px;border:2px solid #00BBDD">
                <div style="font-size:32px;margin-bottom:8px">‚òÅÔ∏è</div>
                <strong style="font-size:14px">AWS Integration</strong>
                <div class="muted" style="font-size:11px;margin-top:4px">v2.3.1 ‚Ä¢ Ativo</div>
                <button class="btn ghost" style="width:100%;padding:6px;font-size:11px;margin-top:8px">Gerenciar</button>
              </div>
              <div style="background:var(--card-bg);padding:16px;border-radius:12px;border:2px solid var(--border-color)">
                <div style="font-size:32px;margin-bottom:8px">üìä</div>
                <strong style="font-size:14px">Grafana Dashboard</strong>
                <div class="muted" style="font-size:11px;margin-top:4px">v1.8.2 ‚Ä¢ Ativo</div>
                <button class="btn ghost" style="width:100%;padding:6px;font-size:11px;margin-top:8px">Gerenciar</button>
              </div>
            </div>
          </div>
        </section>

        <!-- üì° IoT -->
        <section id="iot">
          <h3>üì° IoT ‚Äî Internet das Coisas</h3>
          <p class="muted">Dashboard unificado para dispositivos IoT, sensores e edge computing.</p>
          
          <div class="dashboard" style="margin-top:24px">
            <div class="card">
              <h4>Dispositivos Conectados</h4>
              <div class="metric" style="color:#00BBDD">142</div>
              <div class="metric-label">Ativos agora</div>
            </div>
            <div class="card">
              <h4>Edge Locations</h4>
              <div class="metric" style="color:#00BBDD">8</div>
              <div class="metric-label">Locais monitorados</div>
            </div>
            <div class="card">
              <h4>Dados Coletados</h4>
              <div class="metric" style="color:#00BBDD">2.4TB</div>
              <div class="metric-label">Este m√™s</div>
            </div>
          </div>
          
          <div class="card" style="margin-top:24px">
            <h4>Dispositivos por Categoria</h4>
            <div class="chart-container" style="height:300px">
              <canvas id="iot-devices-chart"></canvas>
            </div>
          </div>
          
          <div class="card" style="margin-top:24px">
            <h4>Dispositivos em Tempo Real</h4>
            <div style="display:grid;grid-template-columns:repeat(auto-fill, minmax(250px, 1fr));gap:16px;margin-top:16px">
              <div style="background:var(--card-bg);padding:16px;border-radius:12px;border:2px solid #00BBDD">
                <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
                  <div>
                    <strong>Sensor Temperatura #01</strong>
                    <div class="muted" style="font-size:11px">S√£o Paulo - DC1</div>
                  </div>
                  <div style="width:12px;height:12px;background:#00BBDD;border-radius:50%;animation:pulse 2s infinite"></div>
                </div>
                <div style="font-size:32px;font-weight:700;color:#00BBDD">23.5¬∞C</div>
                <div class="muted" style="font-size:12px;margin-top:4px">√öltima atualiza√ß√£o: h√° 2s</div>
              </div>
              
              <div style="background:var(--card-bg);padding:16px;border-radius:12px;border:2px solid var(--border-color)">
                <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
                  <div>
                    <strong>Sensor Umidade #03</strong>
                    <div class="muted" style="font-size:11px">Rio de Janeiro - DC2</div>
                  </div>
                  <div style="width:12px;height:12px;background:#00BBDD;border-radius:50%"></div>
                </div>
                <div style="font-size:32px;font-weight:700;color:#00BBDD">65%</div>
                <div class="muted" style="font-size:12px;margin-top:4px">√öltima atualiza√ß√£o: h√° 5s</div>
              </div>
              
              <div style="background:var(--card-bg);padding:16px;border-radius:12px;border:2px solid var(--border-color)">
                <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
                  <div>
                    <strong>Gateway Edge #02</strong>
                    <div class="muted" style="font-size:11px">Belo Horizonte</div>
                  </div>
                  <div style="width:12px;height:12px;background:#00BBDD;border-radius:50%"></div>
                </div>
                <div style="font-size:32px;font-weight:700;color:#00BBDD">Online</div>
                <div class="muted" style="font-size:12px;margin-top:4px">12 dispositivos conectados</div>
              </div>
            </div>
          </div>
        </section>

        <!-- üé§ Assistente Voz -->
        <section id="voz">
          <h3>üé§ Assistente Virtual com Voz</h3>
          <p class="muted">Controle o portal por voz. Integra√ß√£o com Web Speech API para comandos e consultas.</p>
          
          <div class="card" style="margin-top:24px;text-align:center">
            <div style="margin:40px 0">
              <div id="voice-status" style="width:200px;height:200px;margin:0 auto;border-radius:50%;background:var(--card-bg);border:4px solid var(--border-color);display:flex;align-items:center;justify-content:center;font-size:80px;cursor:pointer;transition:var(--transition)" onclick="toggleVoiceAssistant()">
                üé§
              </div>
              <div id="voice-feedback" style="margin-top:24px;font-size:18px;color:var(--text-muted)">Clique para ativar o assistente de voz</div>
            </div>
            
            <div style="display:flex;gap:12px;justify-content:center;flex-wrap:wrap;margin-top:32px">
              <button class="btn" onclick="startVoiceCommand()" id="voice-start-btn">üé§ Iniciar Comando</button>
              <button class="btn ghost" onclick="stopVoiceCommand()" id="voice-stop-btn" style="display:none">‚èπÔ∏è Parar</button>
            </div>
          </div>
          
          <div class="card" style="margin-top:24px">
            <h4>Comandos Dispon√≠veis</h4>
            <div style="display:grid;grid-template-columns:repeat(auto-fill, minmax(250px, 1fr));gap:16px;margin-top:16px">
              <div style="background:var(--card-bg);padding:16px;border-radius:12px">
                <strong>"Mostrar dashboard"</strong>
                <div class="muted" style="font-size:12px;margin-top:4px">Abre o dashboard principal</div>
              </div>
              <div style="background:var(--card-bg);padding:16px;border-radius:12px">
                <strong>"Status dos servidores"</strong>
                <div class="muted" style="font-size:12px;margin-top:4px">Consulta status da infraestrutura</div>
              </div>
              <div style="background:var(--card-bg);padding:16px;border-radius:12px">
                <strong>"Abrir chamado"</strong>
                <div class="muted" style="font-size:12px;margin-top:4px">Inicia cria√ß√£o de ticket</div>
              </div>
              <div style="background:var(--card-bg);padding:16px;border-radius:12px">
                <strong>"√öltimas notifica√ß√µes"</strong>
                <div class="muted" style="font-size:12px;margin-top:4px">Lista notifica√ß√µes recentes</div>
              </div>
            </div>
          </div>
          
          <div class="card" style="margin-top:24px">
            <h4>Hist√≥rico de Comandos</h4>
            <div id="voice-history" style="max-height:200px;overflow-y:auto">
              <div style="padding:12px;background:var(--card-bg);border-radius:8px;margin-bottom:8px">
                <div style="display:flex;justify-content:space-between;margin-bottom:4px">
                  <strong>"Mostrar analytics"</strong>
                  <span class="muted" style="font-size:11px">H√° 5 minutos</span>
                </div>
                <div class="muted" style="font-size:12px">‚úì Comando executado com sucesso</div>
              </div>
            </div>
          </div>
        </section>

        <!-- üë• Colabora√ß√£o -->
        <section id="colaboracao">
          <h3>üë• Portal Colaborativo ‚Äî Workspaces</h3>
          <p class="muted">Workspaces compartilhados, colabora√ß√£o em tempo real e comunidades de pr√°tica.</p>
          
          <div class="dashboard" style="margin-top:24px">
            <div class="card">
              <h4>Workspaces Ativos</h4>
              <div class="metric" style="color:#00BBDD">8</div>
              <div class="metric-label">Equipes colaborando</div>
            </div>
            <div class="card">
              <h4>Membros Online</h4>
              <div class="metric" style="color:#00BBDD">24</div>
              <div class="metric-label">Agora</div>
            </div>
            <div class="card">
              <h4>Documentos Compartilhados</h4>
              <div class="metric" style="color:#00BBDD">156</div>
              <div class="metric-label">Total</div>
            </div>
          </div>
          
          <div class="card" style="margin-top:24px">
            <h4>Meus Workspaces</h4>
            <div style="display:grid;grid-template-columns:repeat(auto-fill, minmax(300px, 1fr));gap:16px;margin-top:16px">
              <div style="background:var(--card-bg);padding:20px;border-radius:12px;border:2px solid var(--border-color);cursor:pointer" onclick="openWorkspace('devops')">
                <div style="display:flex;justify-content:space-between;align-items:start;margin-bottom:12px">
                  <div>
                    <h4 style="margin:0">DevOps Team</h4>
                    <div class="muted" style="font-size:12px">12 membros ‚Ä¢ 8 online</div>
                  </div>
                  <div style="width:40px;height:40px;background:#00BBDD;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:20px">üë•</div>
                </div>
                <div class="muted" style="font-size:13px;margin-bottom:12px">
                  Colabora√ß√£o em pipelines CI/CD e automa√ß√£o
                </div>
                <div style="display:flex;gap:8px;flex-wrap:wrap">
                  <span style="background:var(--bg-secondary);padding:4px 8px;border-radius:4px;font-size:11px">Ativo</span>
                  <span style="background:var(--card-bg);padding:4px 8px;border-radius:4px;font-size:11px">45 docs</span>
                </div>
              </div>
              
              <div style="background:var(--card-bg);padding:20px;border-radius:12px;border:2px solid var(--border-color);cursor:pointer" onclick="openWorkspace('security')">
                <div style="display:flex;justify-content:space-between;align-items:start;margin-bottom:12px">
                  <div>
                    <h4 style="margin:0">Security Team</h4>
                    <div class="muted" style="font-size:12px">6 membros ‚Ä¢ 4 online</div>
                  </div>
                  <div style="width:40px;height:40px;background:#007760;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:20px">üîí</div>
                </div>
                <div class="muted" style="font-size:13px;margin-bottom:12px">
                  Gest√£o de seguran√ßa e compliance
                </div>
                <div style="display:flex;gap:8px;flex-wrap:wrap">
                  <span style="background:var(--bg-secondary);padding:4px 8px;border-radius:4px;font-size:11px">Ativo</span>
                  <span style="background:var(--card-bg);padding:4px 8px;border-radius:4px;font-size:11px">28 docs</span>
                </div>
              </div>
            </div>
          </div>
          
          <div class="card" style="margin-top:24px">
            <h4>Atividade Recente</h4>
            <div id="collaboration-activity" style="max-height:400px;overflow-y:auto;margin-top:16px">
              <div style="padding:12px;background:var(--card-bg);border-radius:8px;margin-bottom:8px;border-left:4px solid #00BBDD">
                <div style="display:flex;justify-content:space-between;margin-bottom:4px">
                  <strong>Jo√£o Silva compartilhou documento</strong>
                  <span class="muted" style="font-size:11px">H√° 5 minutos</span>
                </div>
                <div class="muted" style="font-size:12px">"Plano de Disaster Recovery 2025" no workspace DevOps Team</div>
              </div>
              <div style="padding:12px;background:var(--card-bg);border-radius:8px;margin-bottom:8px;border-left:4px solid #007760">
                <div style="display:flex;justify-content:space-between;margin-bottom:4px">
                  <strong>Maria Santos comentou</strong>
                  <span class="muted" style="font-size:11px">H√° 12 minutos</span>
                </div>
                <div class="muted" style="font-size:12px">No chamado #2451: "An√°lise conclu√≠da, aguardando aprova√ß√£o"</div>
              </div>
            </div>
          </div>
        </section>

        <footer>
          <div>
            <strong>Opus Tech</strong> ‚Äî Plataforma do Cliente ‚Ä¢ Seguran√ßa e Privacidade alinhadas a ISO 9001, 27001 e 27701
          </div>
          <div class="muted" style="font-size:13px">Vers√£o: 3.0 Disruptiva ‚Ä¢ √öltima atualiza√ß√£o: <span id="updated">24/11/2025</span></div>
        </footer>
      </main>
    </div>
  </div>

  <!-- Painel de Notifica√ß√µes -->
  <div class="notifications-panel" id="notificationsPanel">
    <div class="notifications-header">
      <h3 style="margin:0;font-size:18px">Notifica√ß√µes</h3>
      <button class="btn ghost" style="padding:6px 12px;font-size:12px" onclick="toggleNotifications()">Fechar</button>
    </div>
    <div class="notifications-list" id="notificationsList">
      <div class="notification-item unread">
        <div class="notification-title">Novo chamado #2451</div>
        <div class="notification-text">Falha no backup reportada</div>
        <div class="notification-time">H√° 2 horas</div>
      </div>
      <div class="notification-item unread">
        <div class="notification-title">SLA em risco</div>
        <div class="notification-text">Chamado #2448 pr√≥ximo do prazo</div>
        <div class="notification-time">H√° 5 horas</div>
      </div>
      <div class="notification-item">
        <div class="notification-title">Fatura dispon√≠vel</div>
        <div class="notification-text">Fatura #2025-111 dispon√≠vel para download</div>
        <div class="notification-time">Ontem</div>
      </div>
    </div>
  </div>

  <!-- Bot√£o de emerg√™ncia -->
  <button class="fab" aria-label="Acionar emerg√™ncia" onclick="openEmergencyModal()">üö® EMERG√äNCIA</button>

  <!-- Modal de emerg√™ncia -->
  <div id="modal-emergencia" class="modal" role="dialog" aria-modal="true">
    <div class="panel">
      <h3>Acionar Solicita√ß√£o de Emerg√™ncia</h3>
      <p class="muted">Confirmar acionamento do plant√£o e registro autom√°tico do incidente com prioridade cr√≠tica.</p>
      <div style="display:flex;gap:12px;justify-content:flex-end;margin-top:24px">
        <button class="btn ghost" onclick="closeEmergencyModal()">Cancelar</button>
        <button class="btn" onclick="triggerEmergency()">Confirmar</button>
      </div>
    </div>
  </div>

  <!-- Modal de Certificado ISO -->
  <div id="modal-certificado" class="modal" role="dialog" aria-modal="true">
    <div class="panel" style="max-width:900px">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:20px">
        <h3 id="cert-title">Certificado ISO</h3>
        <button class="btn ghost" style="padding:8px 16px" onclick="closeCertificateModal()">‚úï Fechar</button>
      </div>
      <div id="cert-content" style="max-height:70vh;overflow-y:auto">
        <!-- Conte√∫do ser√° preenchido dinamicamente -->
      </div>
      <div style="display:flex;gap:12px;justify-content:flex-end;margin-top:24px;padding-top:20px;border-top:2px solid var(--border-color)">
        <button class="btn ghost" onclick="closeCertificateModal()">Fechar</button>
        <button class="btn" onclick="downloadCertificate()">üì• Download PDF</button>
      </div>
    </div>
  </div>

  <script>
    // Estado global
    const state = {
      notifications: [
        { id: 1, title: 'Novo chamado #2451', text: 'Falha no backup reportada', time: 'H√° 2 horas', read: false },
        { id: 2, title: 'SLA em risco', text: 'Chamado #2448 pr√≥ximo do prazo', time: 'H√° 5 horas', read: false },
        { id: 3, title: 'Fatura dispon√≠vel', text: 'Fatura #2025-111 dispon√≠vel para download', time: 'Ontem', read: true }
      ],
      unreadCount: 2
    };

    // Navega√ß√£o
    function showSection(id) {
      document.querySelectorAll('main section').forEach(s => {
        s.classList.remove('active');
        s.style.display = 'none';
      });
      const el = document.getElementById(id);
      if (el) {
        el.classList.add('active');
        el.style.display = 'block';
        if (id === 'dashboard' || id === 'analytics') {
          setTimeout(() => initCharts(), 100);
        }
      if (id === 'financeiro') {
          setTimeout(() => initFinancialCharts(), 100);
        }
      }
      const title = el?.querySelector('h3')?.innerText || 'Portal do Cliente';
      document.getElementById('title').innerText = title + ' ‚Äî Portal do Cliente';
      document.querySelectorAll('.menu button').forEach(btn => {
        btn.classList.remove('active');
        if (btn.getAttribute('aria-controls') === id) {
          btn.classList.add('active');
        }
      });
      document.getElementById('maincontent').scrollTop = 0;
    }

    // Gr√°ficos
    let charts = {};
    function initCharts() {
      if (charts.sla) return;
      
      // Gr√°fico SLA
      const slaCtx = document.getElementById('slaChart');
      if (slaCtx) {
        charts.sla = new Chart(slaCtx, {
          type: 'line',
          data: {
            labels: ['Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'S√°b', 'Dom'],
            datasets: [{
              label: 'SLA %',
              data: [99.8, 99.9, 99.7, 99.95, 99.9, 99.85, 99.92],
              borderColor: '#00BBDD',
              backgroundColor: 'rgba(0,187,221,0.1)',
              tension: 0.4
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: { legend: { display: false } },
            scales: {
              y: { beginAtZero: false, min: 99, max: 100, ticks: { color: '#F8F8FF' }, grid: { color: 'rgba(255,255,255,0.1)' } },
              x: { ticks: { color: '#F8F8FF' }, grid: { color: 'rgba(255,255,255,0.1)' } }
            }
          }
        });
      }

      // Gr√°fico SLA por Servi√ßo
      const slaServiceCtx = document.getElementById('slaByServiceChart');
      if (slaServiceCtx) {
        charts.slaService = new Chart(slaServiceCtx, {
          type: 'bar',
          data: {
            labels: ['Backup', 'Cloud', 'Monitoramento', 'Seguran√ßa', 'Rede'],
            datasets: [{
              label: 'SLA %',
              data: [99.99, 99.95, 99.92, 99.88, 99.85],
              backgroundColor: '#00BBDD'
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: { legend: { display: false } },
            scales: {
              y: { beginAtZero: false, min: 99, max: 100, ticks: { color: '#F8F8FF' }, grid: { color: 'rgba(255,255,255,0.1)' } },
              x: { ticks: { color: '#F8F8FF' }, grid: { color: 'rgba(255,255,255,0.1)' } }
            }
          }
        });
      }

      // Gr√°fico Volume de Chamados
      const ticketsCtx = document.getElementById('ticketsVolumeChart');
      if (ticketsCtx) {
        charts.tickets = new Chart(ticketsCtx, {
          type: 'line',
          data: {
            labels: ['Sem 1', 'Sem 2', 'Sem 3', 'Sem 4'],
            datasets: [{
              label: 'Chamados',
              data: [12, 19, 15, 22],
              borderColor: '#007760',
              backgroundColor: 'rgba(0,119,96,0.1)',
              tension: 0.4
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: { legend: { display: false } },
            scales: {
              y: { beginAtZero: true, ticks: { color: '#F8F8FF' }, grid: { color: 'rgba(255,255,255,0.1)' } },
              x: { ticks: { color: '#F8F8FF' }, grid: { color: 'rgba(255,255,255,0.1)' } }
            }
          }
        });
      }
    }

    // Notifica√ß√µes
    function toggleNotifications() {
      const panel = document.getElementById('notificationsPanel');
      panel.classList.toggle('open');
    }

    function updateNotificationBadge() {
      const badge = document.getElementById('notificationBadge');
      badge.textContent = state.unreadCount;
      badge.style.display = state.unreadCount > 0 ? 'flex' : 'none';
    }

    // Busca
    function handleSearchKeydown(e) {
      if (e.ctrlKey && e.key === 'k') {
        e.preventDefault();
        document.getElementById('searchInput').focus();
      } else if (e.key === 'Enter') {
        quickSearch(e.target.value);
      }
    }

    // Atalhos de teclado
    document.addEventListener('keydown', (e) => {
      if (e.ctrlKey && e.key === 'k') {
        e.preventDefault();
        document.getElementById('searchInput').focus();
      }
    });

    // Timeline
    function viewTicketTimeline(id) {
      showSection('atendimento');
      setTimeout(() => {
        document.getElementById('ticketTimeline').scrollIntoView({ behavior: 'smooth' });
      }, 100);
    }

    // Fun√ß√µes auxiliares
    function quickSearch(q) {
      console.log('Pesquisar:', q);
      // Implementar busca real
    }

    function openTicket() {
      addNotification('Chamado criado', 'Seu chamado foi registrado com sucesso', 'Agora');
      alert('Chamado criado. Integra√ß√£o ITSM necess√°ria para envio real.');
    }

    function attachFile() {
      document.getElementById('fileupload')?.click();
    }

    function addNotification(title, text, time) {
      state.notifications.unshift({ id: Date.now(), title, text, time, read: false });
      state.unreadCount++;
      updateNotificationBadge();
      renderNotifications();
    }

    function renderNotifications() {
      const list = document.getElementById('notificationsList');
      list.innerHTML = state.notifications.map(n => `
        <div class="notification-item ${n.read ? '' : 'unread'}" onclick="markAsRead(${n.id})">
          <div class="notification-title">${n.title}</div>
          <div class="notification-text">${n.text}</div>
          <div class="notification-time">${n.time}</div>
        </div>
      `).join('');
    }

    function markAsRead(id) {
      const notif = state.notifications.find(n => n.id === id);
      if (notif && !notif.read) {
        notif.read = true;
        state.unreadCount--;
        updateNotificationBadge();
        renderNotifications();
      }
    }

    function openEmergencyModal() {
      document.getElementById('modal-emergencia').classList.add('open');
    }

    function closeEmergencyModal() {
      document.getElementById('modal-emergencia').classList.remove('open');
    }

    function triggerEmergency() {
      closeEmergencyModal();
      addNotification('Emerg√™ncia acionada', 'Plant√£o notificado. Aguarde contato.', 'Agora');
      alert('Incidente cr√≠tico registrado. Notificando plant√£o...');
    }

    // Certificados ISO
    const certificados = {
      iso9001: {
        title: 'ISO 9001:2015 - Quality Management System',
        numero: '2UDAUTCU20250919BRAQM1X4',
        emissao: '19/09/2025',
        validade: '18/09/2028',
        certificadora: 'TNV Certification Ltd.',
        escopo: 'Provision of server space rental, including implementation, monitoring, support, and maintenance of servers and related services',
        escopoPt: 'Fornecimento de aluguel de espa√ßo de servidor, incluindo implementa√ß√£o, monitoramento, suporte e manuten√ß√£o de servidores e servi√ßos relacionados',
        acreditacao: 'United Accreditation Foundation (UAF)',
        verificacao: ['www.tnvworld.com', 'www.iafcertsearch.org']
      },
      iso27001: {
        title: 'ISO/IEC 27001:2022 - Information Security Management System',
        numero: '2UDAUTCU20250919BRAIS16V',
        emissao: '19/09/2025',
        validade: '18/09/2028',
        certificadora: 'TNV Certification Ltd.',
        escopo: 'Provision of server space rental, including implementation, monitoring, support, and maintenance of servers and related services',
        escopoPt: 'Fornecimento de aluguel de espa√ßo de servidor, incluindo implementa√ß√£o, monitoramento, suporte e manuten√ß√£o de servidores e servi√ßos relacionados',
        acreditacao: 'United Accreditation Foundation (UAF)',
        verificacao: ['www.tnvworld.com', 'www.iafcertsearch.org']
      },
      iso27701: {
        title: 'ISO 27701:2019 - Privacy Information Management System',
        numero: '2UDAUTCU20250919BRAPI1H3',
        emissao: '19/09/2025',
        validade: '18/09/2028',
        certificadora: 'TNV Certification Ltd.',
        escopo: 'Provision of server space rental, including implementation, monitoring, support, and maintenance of servers and related services',
        escopoPt: 'Fornecimento de aluguel de espa√ßo de servidor, incluindo implementa√ß√£o, monitoramento, suporte e manuten√ß√£o de servidores e servi√ßos relacionados',
        acreditacao: 'United Accreditation Foundation (UAF)',
        verificacao: ['www.tnvworld.com', 'www.iafcertsearch.org']
      }
    };

    function viewCertificate(tipo) {
      const cert = certificados[tipo];
      if (!cert) return;

      const modal = document.getElementById('modal-certificado');
      const title = document.getElementById('cert-title');
      const content = document.getElementById('cert-content');

      title.textContent = cert.title;
      
      content.innerHTML = `
        <div style="background:linear-gradient(135deg, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0.02) 100%);padding:24px;border-radius:12px;border:2px solid var(--border-color);margin-bottom:20px">
          <div style="display:grid;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));gap:16px;margin-bottom:20px">
            <div>
              <div class="muted" style="font-size:12px;margin-bottom:4px">N√∫mero do Certificado</div>
              <div style="font-weight:700;font-size:14px;word-break:break-all">${cert.numero}</div>
            </div>
            <div>
              <div class="muted" style="font-size:12px;margin-bottom:4px">Data de Emiss√£o</div>
              <div style="font-weight:700">${cert.emissao}</div>
            </div>
            <div>
              <div class="muted" style="font-size:12px;margin-bottom:4px">Validade at√©</div>
              <div style="font-weight:700;color:#00BBDD">${cert.validade}</div>
            </div>
            <div>
              <div class="muted" style="font-size:12px;margin-bottom:4px">Certificadora</div>
              <div style="font-weight:700">${cert.certificadora}</div>
            </div>
          </div>

          <div style="margin-top:20px;padding-top:20px;border-top:1px solid var(--border-color)">
            <div class="muted" style="font-size:12px;margin-bottom:8px">Escopo da Certifica√ß√£o</div>
            <div style="margin-bottom:12px">
              <strong>Ingl√™s:</strong><br>
              <span class="muted">${cert.escopo}</span>
            </div>
            <div>
              <strong>Portugu√™s:</strong><br>
              <span class="muted">${cert.escopoPt}</span>
            </div>
          </div>

          <div style="margin-top:20px;padding-top:20px;border-top:1px solid var(--border-color)">
            <div class="muted" style="font-size:12px;margin-bottom:8px">Acredita√ß√£o</div>
            <div style="margin-bottom:12px">
              <strong>${cert.acreditacao}</strong>
            </div>
            <div class="muted" style="font-size:13px;margin-bottom:8px">Verifica√ß√£o online:</div>
            <div style="display:flex;gap:8px;flex-wrap:wrap">
              ${cert.verificacao.map(url => `<a href="https://${url}" target="_blank" rel="noopener noreferrer" class="btn ghost" style="padding:6px 12px;font-size:12px;text-decoration:none">${url}</a>`).join('')}
            </div>
          </div>

          <div style="margin-top:20px;padding-top:20px;border-top:1px solid var(--border-color);background:rgba(0,187,221,0.05);padding:16px;border-radius:8px">
            <div style="display:flex;align-items:center;gap:12px;margin-bottom:12px">
              <div style="font-size:32px">‚úÖ</div>
              <div>
                <div style="font-weight:700;margin-bottom:4px">Status: V√°lido</div>
                <div class="muted" style="font-size:13px">Certificado ativo e em conformidade</div>
              </div>
            </div>
            <div class="muted" style="font-size:12px;line-height:1.6">
              <strong>Organiza√ß√£o Certificada:</strong> OPS SOLUCOES EM TECNOLOGIA DA INFORMATICA LTDA.<br>
              <strong>Endere√ßo:</strong> Av. sete de setembro 4923, Sala 1901, Agua Verde, Curitiba, PR, CEP: 80250-205, Brazil
            </div>
          </div>
        </div>

        <div style="background:var(--card-bg);padding:16px;border-radius:8px;border:1px solid var(--border-color)">
          <div class="muted" style="font-size:12px;line-height:1.6">
            <strong>Nota:</strong> A validade deste certificado est√° sujeita √† conformidade cont√≠nua do sistema de gest√£o e √† conclus√£o bem-sucedida das auditorias planejadas pela TNV. Para mais detalhes sobre vigil√¢ncia, visite www.isoindia.org ou escreva para info@isoindia.org
          </div>
        </div>
      `;

      modal.classList.add('open');
    }

    function closeCertificateModal() {
      document.getElementById('modal-certificado').classList.remove('open');
    }

    function downloadCertificate() {
      const tipo = document.getElementById('cert-title').textContent.includes('9001') ? 'iso9001' :
                   document.getElementById('cert-title').textContent.includes('27001') ? 'iso27001' : 'iso27701';
      alert(`Download do certificado ${tipo.toUpperCase()} ser√° implementado. Em produ√ß√£o, isso baixaria o PDF do certificado.`);
    }

    // Fechar modal ao clicar fora
    document.getElementById('modal-emergencia').addEventListener('click', function(e) {
      if (e.target === this) closeEmergencyModal();
    });

    document.getElementById('modal-certificado').addEventListener('click', function(e) {
      if (e.target === this) closeCertificateModal();
    });

    // Fechar notifica√ß√µes ao clicar fora
    document.addEventListener('click', (e) => {
      const panel = document.getElementById('notificationsPanel');
      if (!panel.contains(e.target) && !e.target.closest('.notifications-btn')) {
        panel.classList.remove('open');
      }
    });

    // Inicializa√ß√£o
    showSection('dashboard');
    updateNotificationBadge();
    renderNotifications();
    
    // Registrar Service Worker para PWA
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/service-worker.js')
          .then((registration) => {
            console.log('Service Worker registrado:', registration.scope);
          })
          .catch((error) => {
            console.log('Falha ao registrar Service Worker:', error);
          });
      });
    }

    // Solicitar permiss√£o para notifica√ß√µes
    if ('Notification' in window && Notification.permission === 'default') {
      Notification.requestPermission();
    }

    // Simular atualiza√ß√µes em tempo real
    setInterval(() => {
      // Simular novas notifica√ß√µes ocasionalmente
      if (Math.random() > 0.95) {
        addNotification('Atualiza√ß√£o autom√°tica', 'Sistema sincronizado com sucesso', 'Agora');
        
        // Notifica√ß√£o do navegador se permitido
        if ('Notification' in window && Notification.permission === 'granted') {
          new Notification('Portal Opus Tech', {
            body: 'Sistema sincronizado com sucesso',
            icon: 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><rect width="100" height="100" fill="%2300BBDD"/><text x="50%" y="60%" font-size="60" font-family="Arial" fill="%23FFFFFF" text-anchor="middle">OT</text></svg>'
          });
        }
      }
    }, 30000);

    // Lazy loading de imagens
    if ('IntersectionObserver' in window) {
      const imageObserver = new IntersectionObserver((entries, observer) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            const img = entry.target;
            if (img.dataset.src) {
              img.src = img.dataset.src;
              img.removeAttribute('data-src');
              observer.unobserve(img);
            }
          }
        });
      });

      document.querySelectorAll('img[data-src]').forEach(img => {
        imageObserver.observe(img);
      });
    }

    // Melhorias de acessibilidade - anunciar mudan√ßas
    const announcer = document.createElement('div');
    announcer.setAttribute('role', 'status');
    announcer.setAttribute('aria-live', 'polite');
    announcer.setAttribute('aria-atomic', 'true');
    announcer.style.position = 'absolute';
    announcer.style.left = '-9999px';
    announcer.style.width = '1px';
    announcer.style.height = '1px';
    announcer.style.overflow = 'hidden';
    document.body.appendChild(announcer);

    function announce(message) {
      announcer.textContent = message;
      setTimeout(() => {
        announcer.textContent = '';
      }, 1000);
    }

    // Anunciar mudan√ßas de se√ß√£o
    const originalShowSection = showSection;
    showSection = function(id) {
      originalShowSection(id);
      const sectionName = document.getElementById(id)?.querySelector('h3')?.textContent || 'se√ß√£o';
      announce(`Navegando para ${sectionName}`);
      
      // Inicializar funcionalidades espec√≠ficas
      if (id === 'visualizacao3d') {
        setTimeout(() => init3DVisualization(), 100);
      }
      if (id === 'predicao') {
        setTimeout(() => initPredictionCharts(), 100);
      }
      if (id === 'iot') {
        setTimeout(() => initIoTCharts(), 100);
      }
    };

    // ========== COPILOT IA ==========
    let copilotMessages = [];
    
    function sendCopilotMessage() {
      const input = document.getElementById('copilot-input');
      const message = input.value.trim();
      if (!message) return;
      
      addCopilotMessage('user', message);
      input.value = '';
      
      // Simular resposta do IA
      setTimeout(() => {
        const responses = [
          `Analisando sua solicita√ß√£o: "${message}". Baseado nos logs do sistema, identifiquei que...`,
          `Entendo sua necessidade. Vou verificar os dados e fornecer uma solu√ß√£o otimizada.`,
          `Com base no hist√≥rico e padr√µes similares, recomendo as seguintes a√ß√µes...`,
          `Analisando os dados em tempo real. Encontrei informa√ß√µes relevantes sobre sua consulta.`
        ];
        const response = responses[Math.floor(Math.random() * responses.length)];
        addCopilotMessage('bot', response);
      }, 1000);
    }
    
    function addCopilotMessage(type, text) {
      const chat = document.getElementById('copilot-chat');
      const messageDiv = document.createElement('div');
      messageDiv.className = `copilot-message ${type}`;
      const now = new Date().toLocaleTimeString('pt-BR', { hour: '2-digit', minute: '2-digit' });
      
      messageDiv.innerHTML = `
        <div class="message-avatar">${type === 'bot' ? 'ü§ñ' : 'üë§'}</div>
        <div class="message-content">
          <div class="message-text">${text}</div>
          <div class="message-time">${now}</div>
        </div>
      `;
      
      chat.appendChild(messageDiv);
      chat.scrollTop = chat.scrollHeight;
      copilotMessages.push({ type, text, time: now });
    }
    
    function clearCopilotChat() {
      const chat = document.getElementById('copilot-chat');
      chat.innerHTML = `
        <div class="copilot-message bot">
          <div class="message-avatar">ü§ñ</div>
          <div class="message-content">
            <div class="message-text">Chat limpo. Como posso ajudar?</div>
            <div class="message-time">Agora</div>
          </div>
        </div>
      `;
      copilotMessages = [];
    }
    
    function quickCopilotAction(action) {
      const actions = {
        'analyze-logs': 'Analisando logs do sistema... Identifiquei 3 alertas de performance e 1 poss√≠vel falha de mem√≥ria.',
        'troubleshoot': 'Executando diagn√≥stico autom√°tico... Verificando conectividade, recursos e servi√ßos.',
        'generate-doc': 'Gerando documenta√ß√£o t√©cnica baseada na configura√ß√£o atual do sistema...',
        'optimize': 'Analisando configura√ß√µes... Sugerindo otimiza√ß√µes que podem reduzir custos em 15%.'
      };
      
      addCopilotMessage('user', `A√ß√£o: ${action}`);
      setTimeout(() => {
        addCopilotMessage('bot', actions[action] || 'Processando sua solicita√ß√£o...');
      }, 800);
    }

    // ========== PREDI√á√ÉO PROATIVA ==========
    function initPredictionCharts() {
      // Health Score Chart
      const healthCtx = document.getElementById('health-score-chart');
      if (healthCtx && !healthCtx.chart) {
        healthCtx.chart = new Chart(healthCtx, {
          type: 'doughnut',
          data: {
            datasets: [{
              data: [87, 13],
              backgroundColor: ['#00BBDD', 'rgba(255,255,255,0.1)'],
              borderWidth: 0
            }]
          },
          options: {
            cutout: '75%',
            plugins: { legend: { display: false } }
          }
        });
      }
      
      // Prediction Chart
      const predCtx = document.getElementById('prediction-chart');
      if (predCtx && !predCtx.chart) {
        predCtx.chart = new Chart(predCtx, {
          type: 'line',
          data: {
            labels: ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun', 'Jul', 'Ago', 'Set', 'Out', 'Nov'],
            datasets: [{
              label: 'Uso Real',
              data: [65, 68, 72, 75, 78, 80, 82, 85, 87, 85, 87],
              borderColor: '#00BBDD',
              backgroundColor: 'rgba(0,187,221,0.1)',
              tension: 0.4
            }, {
              label: 'Previs√£o',
              data: [null, null, null, null, null, null, null, null, null, null, 87, 90, 92],
              borderColor: '#FFA500',
              borderDash: [5, 5],
              tension: 0.4
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: { legend: { display: true, position: 'top' } },
            scales: { y: { beginAtZero: true, max: 100 } }
          }
        });
      }
    }
    
    function resolvePrediction(id) {
      alert(`Aplicando corre√ß√£o autom√°tica para ${id}. Em produ√ß√£o, isso executaria scripts de manuten√ß√£o preventiva.`);
      addNotification('Corre√ß√£o Aplicada', `A√ß√£o preventiva executada para ${id}`, 'Agora');
    }
    
    function scheduleMaintenance(id) {
      alert(`Agendando manuten√ß√£o para ${id}. Em produ√ß√£o, isso abriria um calend√°rio de agendamento.`);
    }

    // ========== AUTOMA√á√ÉO ==========
    function runPlaybook(name) {
      const playbooks = {
        'backup-restore': 'Executando rotina de backup e verifica√ß√£o de integridade...',
        'scale-up': 'Configurando auto-scaling baseado em m√©tricas de demanda...',
        'security-scan': 'Iniciando varredura de vulnerabilidades em toda a infraestrutura...',
        'log-cleanup': 'Limpando logs antigos conforme pol√≠tica de reten√ß√£o...'
      };
      
      alert(playbooks[name] || 'Executando playbook...');
      addNotification('Playbook Executado', `Playbook "${name}" iniciado com sucesso`, 'Agora');
    }

    // ========== VISUALIZA√á√ÉO 3D ==========
    let scene3D, camera3D, renderer3D, controls3D;
    
    function init3DVisualization() {
      const container = document.getElementById('canvas-3d-container');
      if (!container) return;
      
      const canvas = document.getElementById('canvas-3d');
      if (!canvas) return;
      
      // Limpar cena anterior se existir
      if (renderer3D) {
        renderer3D.dispose();
      }
      
      // Criar cena
      scene3D = new THREE.Scene();
      scene3D.background = new THREE.Color(0x001f3d);
      
      // C√¢mera
      camera3D = new THREE.PerspectiveCamera(75, container.clientWidth / container.clientHeight, 0.1, 1000);
      camera3D.position.set(10, 10, 10);
      
      // Renderer
      renderer3D = new THREE.WebGLRenderer({ canvas: canvas, antialias: true });
      renderer3D.setSize(container.clientWidth, container.clientHeight);
      
      // Controles (simulado - OrbitControls precisa ser carregado)
      try {
        if (typeof THREE.OrbitControls !== 'undefined') {
          controls3D = new THREE.OrbitControls(camera3D, renderer3D.domElement);
          controls3D.enableDamping = true;
        }
      } catch(e) {
        console.log('OrbitControls n√£o dispon√≠vel, usando controles b√°sicos');
      }
      
      // Ilumina√ß√£o
      const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);
      scene3D.add(ambientLight);
      const directionalLight = new THREE.DirectionalLight(0x00BBDD, 0.8);
      directionalLight.position.set(10, 10, 5);
      scene3D.add(directionalLight);
      
      // Criar servidores 3D (cubos representando racks)
      const rackCount = 6;
      for (let i = 0; i < rackCount; i++) {
        const rack = createRack(i);
        scene3D.add(rack);
      }
      
      // Animar
      function animate() {
        requestAnimationFrame(animate);
        if (controls3D) controls3D.update();
        renderer3D.render(scene3D, camera3D);
      }
      animate();
      
      // Resize handler
      window.addEventListener('resize', () => {
        if (container && camera3D && renderer3D) {
          camera3D.aspect = container.clientWidth / container.clientHeight;
          camera3D.updateProjectionMatrix();
          renderer3D.setSize(container.clientWidth, container.clientHeight);
        }
      });
    }
    
    function createRack(index) {
      const group = new THREE.Group();
      const x = (index % 3) * 5 - 5;
      const z = Math.floor(index / 3) * 5 - 5;
      
      // Base do rack
      const baseGeometry = new THREE.BoxGeometry(2, 0.2, 1);
      const baseMaterial = new THREE.MeshStandardMaterial({ color: 0x333333 });
      const base = new THREE.Mesh(baseGeometry, baseMaterial);
      base.position.y = 0.1;
      group.add(base);
      
      // Servidores no rack (4 servidores por rack)
      const serverColors = [0x00BBDD, 0x00BBDD, 0xFFA500, 0x00BBDD];
      for (let i = 0; i < 4; i++) {
        const serverGeometry = new THREE.BoxGeometry(0.4, 0.6, 0.8);
        const serverMaterial = new THREE.MeshStandardMaterial({ color: serverColors[i] });
        const server = new THREE.Mesh(serverGeometry, serverMaterial);
        server.position.set(-0.6 + (i * 0.4), 0.5 + (i * 0.7), 0);
        group.add(server);
      }
      
      group.position.set(x, 0, z);
      return group;
    }
    
    function reset3DView() {
      if (camera3D) {
        camera3D.position.set(10, 10, 10);
        camera3D.lookAt(0, 0, 0);
        if (controls3D) controls3D.update();
      }
    }
    
    function toggle3DLabels() {
      alert('Labels 3D: Em produ√ß√£o, isso mostraria/ocultaria labels nos servidores.');
    }

    // ========== BLOCKCHAIN ==========
    function verifyBlockchain() {
      alert('Verificando integridade da cadeia de blocos... ‚úì Todos os blocos verificados com sucesso!');
    }
    
    function exportBlockchain() {
      alert('Exportando cadeia de blocos para arquivo JSON. Em produ√ß√£o, isso baixaria o arquivo.');
    }

    // ========== IOT ==========
    function initIoTCharts() {
      const iotCtx = document.getElementById('iot-devices-chart');
      if (iotCtx && !iotCtx.chart) {
        iotCtx.chart = new Chart(iotCtx, {
          type: 'doughnut',
          data: {
            labels: ['Sensores', 'Gateways', 'Atuadores', 'C√¢meras'],
            datasets: [{
              data: [85, 12, 30, 15],
              backgroundColor: ['#00BBDD', '#007760', '#FFA500', '#FF4C4C']
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: { legend: { position: 'right' } }
          }
        });
      }
    }

    // ========== ASSISTENTE VOZ ==========
    let recognition = null;
    let isListening = false;
    
    function initVoiceAssistant() {
      if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
        const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
        recognition = new SpeechRecognition();
        recognition.lang = 'pt-BR';
        recognition.continuous = false;
        recognition.interimResults = false;
        
        recognition.onresult = function(event) {
          const command = event.results[0][0].transcript;
          handleVoiceCommand(command);
        };
        
        recognition.onerror = function(event) {
          document.getElementById('voice-feedback').textContent = 'Erro no reconhecimento de voz. Tente novamente.';
          stopVoiceCommand();
        };
        
        recognition.onend = function() {
          if (isListening) {
            recognition.start(); // Continuar escutando
          } else {
            document.getElementById('voice-status').style.borderColor = 'var(--border-color)';
            document.getElementById('voice-feedback').textContent = 'Assistente de voz desativado';
          }
        };
      } else {
        document.getElementById('voice-feedback').textContent = 'Reconhecimento de voz n√£o suportado neste navegador.';
      }
    }
    
    function toggleVoiceAssistant() {
      if (!recognition) {
        initVoiceAssistant();
        if (!recognition) return;
      }
      
      if (isListening) {
        stopVoiceCommand();
      } else {
        startVoiceCommand();
      }
    }
    
    function startVoiceCommand() {
      if (!recognition) {
        initVoiceAssistant();
        if (!recognition) {
          alert('Reconhecimento de voz n√£o est√° dispon√≠vel. Use Chrome ou Edge para esta funcionalidade.');
          return;
        }
      }
      
      isListening = true;
      recognition.start();
      document.getElementById('voice-status').style.borderColor = '#00BBDD';
      document.getElementById('voice-status').style.animation = 'pulse 1s infinite';
      document.getElementById('voice-feedback').textContent = 'üé§ Escutando... Fale seu comando';
      document.getElementById('voice-start-btn').style.display = 'none';
      document.getElementById('voice-stop-btn').style.display = 'inline-block';
    }
    
    function stopVoiceCommand() {
      isListening = false;
      if (recognition) {
        recognition.stop();
      }
      document.getElementById('voice-status').style.borderColor = 'var(--border-color)';
      document.getElementById('voice-status').style.animation = 'none';
      document.getElementById('voice-feedback').textContent = 'Assistente de voz pausado';
      document.getElementById('voice-start-btn').style.display = 'inline-block';
      document.getElementById('voice-stop-btn').style.display = 'none';
    }
    
    function handleVoiceCommand(command) {
      const cmd = command.toLowerCase();
      const history = document.getElementById('voice-history');
      
      // Adicionar ao hist√≥rico
      const historyItem = document.createElement('div');
      historyItem.style.cssText = 'padding:12px;background:var(--card-bg);border-radius:8px;margin-bottom:8px';
      historyItem.innerHTML = `
        <div style="display:flex;justify-content:space-between;margin-bottom:4px">
          <strong>"${command}"</strong>
          <span class="muted" style="font-size:11px">Agora</span>
        </div>
        <div class="muted" style="font-size:12px">‚úì Comando executado</div>
      `;
      history.insertBefore(historyItem, history.firstChild);
      
      // Processar comando
      if (cmd.includes('dashboard') || cmd.includes('painel')) {
        showSection('dashboard');
        document.getElementById('voice-feedback').textContent = '‚úì Abrindo dashboard';
      } else if (cmd.includes('servidor') || cmd.includes('status')) {
        showSection('dashboard');
        document.getElementById('voice-feedback').textContent = '‚úì Mostrando status dos servidores';
      } else if (cmd.includes('chamado') || cmd.includes('ticket')) {
        showSection('atendimento');
        document.getElementById('voice-feedback').textContent = '‚úì Abrindo cria√ß√£o de chamado';
      } else if (cmd.includes('notifica√ß√£o')) {
        toggleNotifications();
        document.getElementById('voice-feedback').textContent = '‚úì Mostrando notifica√ß√µes';
      } else {
        document.getElementById('voice-feedback').textContent = `Comando recebido: "${command}". Processando...`;
      }
    }

    // ========== COLABORA√á√ÉO ==========
    function openWorkspace(name) {
      alert(`Abrindo workspace "${name}". Em produ√ß√£o, isso abriria um workspace colaborativo completo.`);
    }

    // ========== AN√ÅLISE FINANCEIRA PREDITIVA ==========
    function initFinancialCharts() {
      const finCtx = document.getElementById('financial-prediction-chart');
      if (finCtx && !finCtx.chart) {
        finCtx.chart = new Chart(finCtx, {
          type: 'line',
          data: {
            labels: ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun', 'Jul', 'Ago', 'Set', 'Out', 'Nov', 'Dez'],
            datasets: [{
              label: 'Custo Real',
              data: [112000, 115000, 118000, 116000, 119000, 117000, 120000, 118200, 115800, 118200, 124500, null],
              borderColor: '#00BBDD',
              backgroundColor: 'rgba(0,187,221,0.1)',
              tension: 0.4,
              fill: true
            }, {
              label: 'Previs√£o IA',
              data: [null, null, null, null, null, null, null, null, null, null, 124500, 132800],
              borderColor: '#FFA500',
              borderDash: [5, 5],
              backgroundColor: 'rgba(255,165,0,0.1)',
              tension: 0.4,
              fill: true
            }, {
              label: 'Com Otimiza√ß√µes',
              data: [null, null, null, null, null, null, null, null, null, null, 124500, 114100],
              borderColor: '#007760',
              borderDash: [3, 3],
              backgroundColor: 'rgba(0,119,96,0.1)',
              tension: 0.4,
              fill: true
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: { display: true, position: 'top' },
              tooltip: {
                callbacks: {
                  label: function(context) {
                    return context.dataset.label + ': R$ ' + context.parsed.y.toLocaleString('pt-BR');
                  }
                }
              }
            },
            scales: {
              y: {
                beginAtZero: false,
                ticks: {
                  callback: function(value) {
                    return 'R$ ' + (value / 1000).toFixed(0) + 'k';
                  }
                }
              }
            }
          }
        });
      }
    }
    
    function applyOptimization(type) {
      const optimizations = {
        'instances': 'Desligando inst√¢ncias ociosas... Economia estimada: R$ 8.200/m√™s',
        'storage': 'Iniciando migra√ß√£o de dados para storage otimizado... Economia estimada: R$ 5.400/m√™s',
        'reserved': 'Aplicando commit de reserva... Economia estimada: R$ 5.100/m√™s'
      };
      alert(optimizations[type] || 'Aplicando otimiza√ß√£o...');
      addNotification('Otimiza√ß√£o Aplicada', `Otimiza√ß√£o "${type}" aplicada com sucesso`, 'Agora');
    }

    // ========== AN√ÅLISE DE SENTIMENTO ==========
    function analyzeSentiment(text) {
      // Simula√ß√£o de an√°lise de sentimento
      const positiveWords = ['√≥timo', 'excelente', 'bom', 'satisfeito', 'perfeito', 'r√°pido', 'eficiente'];
      const negativeWords = ['ruim', 'lento', 'problema', 'erro', 'falha', 'insatisfeito', 'p√©ssimo'];
      
      const lowerText = text.toLowerCase();
      let score = 0;
      positiveWords.forEach(word => {
        if (lowerText.includes(word)) score += 1;
      });
      negativeWords.forEach(word => {
        if (lowerText.includes(word)) score -= 1;
      });
      
      if (score > 0) return { sentiment: 'positive', score: Math.min(score, 5) };
      if (score < 0) return { sentiment: 'negative', score: Math.max(score, -5) };
      return { sentiment: 'neutral', score: 0 };
    }

    // ========== COMPLIANCE AUTOM√ÅTICO ==========
    function checkCompliance() {
      const checks = [
        { name: 'ISO 9001:2015', status: 'conforme', lastCheck: '24/11/2025' },
        { name: 'ISO 27001:2022', status: 'conforme', lastCheck: '24/11/2025' },
        { name: 'ISO 27701:2019', status: 'conforme', lastCheck: '24/11/2025' },
        { name: 'LGPD', status: 'conforme', lastCheck: '23/11/2025' }
      ];
      
      return checks;
    }

    // Inicializar assistente de voz ao carregar
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initVoiceAssistant);
    } else {
      initVoiceAssistant();
    }
  </script>
</body>
</html>

